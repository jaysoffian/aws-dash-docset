<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Delivering On-Demand Video with CloudFront - Amazon CloudFront</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="on-demand-streaming-video.html" title="On-Demand and Live Streaming Video with CloudFront">
      <link rel="prev" href="on-demand-streaming-video.html" title="On-Demand and Live Streaming Video with CloudFront">
      <link rel="next" href="live-streaming.html" title="Delivering Live 
			Streaming Video with CloudFront and AWS Media Services">
      <meta name="description" content="To deliver on-demand video streaming, you can use Amazon S3 to store the content in its original format, use a transcoder, such as AWS Elemental MediaConvert , to transcode the video into streaming formats, store the transcoded video in an S3 bucket, and then use CloudFront to deliver the video to viewers. If you want to use Microsoft Smooth Streaming, see">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/on-demand-video.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudfront/index.html">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="on-demand-streaming-video.html">On-Demand and Live Streaming Video with CloudFront</a> &#xBB; <span class="breadcrumb">Delivering On-Demand Video with CloudFront</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="on-demand-video">Delivering On-Demand Video with CloudFront</h1>
                     <p>To deliver on-demand video streaming, you can use Amazon S3 to store the content in
                        its original format, use a transcoder,
                        				such as <a href="./mediaconvert/latest/ug/getting-started.html">AWS Elemental MediaConvert</a>, to transcode the video into streaming formats, store
                        				the transcoded video in an S3 bucket, and then use CloudFront to deliver the video
                        to viewers. If you want to use
                        				Microsoft Smooth Streaming, see <a href="on-demand-video.html#on-demand-streaming-smooth">Configuring On-Demand Microsoft Smooth Streaming</a>.
                     </p>
                     <p>To create the solution, follow these steps:</p>
                     <div class="itemizedlist">
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><b>Step 1:</b> Upload your content to an Amazon S3 bucket. To learn more about working
                                 					with S3, see <a href="./AmazonS3/latest/dev/">the Amazon Simple Storage Service Developer Guide</a>.
                              </p>
                           </li>
                           <li class="listitem">
                              <p><b>Step 2:</b> Use MediaConvert to convert your video into the formats required by the 
                                 					players your viewers will be using. You can also create assets that vary in resolution
                                 and bitrate for adaptive bitrate 
                                 					streaming, which adjusts the viewing quality depending on the viewer&apos;s available
                                 bandwidth. MediaConvert outputs the transcoded
                                 					video to an S3 bucket.
                                 				
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              <p><b>Step 3:</b> Deliver the converted content by using a CloudFront distribution, so 
                                 					viewers can watch it on any device, whenever they like.
                                 				
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="aws-note">
                        <p class="aws-note">Tip</p>
                        <p>To learn more about best practices when you implement a video on-demand workflow with
                           AWS Cloud services, see 
                           					<a href="https://aws.amazon.com/answers/media-entertainment/video-on-demand-on-aws/" target="_blank">Video on Demand on AWS</a>.
                        </p>
                        <p>You can also explore how to use an AWS CloudFormation template to deploy a video-on-demand
                           AWS solution together 
                           					with all the associated components. To see the steps for using the template,
                           see 
                           					<a href="./solutions/latest/video-on-demand/deployment.html">Video on Demand Automated Deployment</a>.
                        </p>
                     </div>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#on-demand-streaming-smooth">Configuring On-Demand Microsoft Smooth Streaming</a></li>
                        </ul>
                     </div>
                     				
                     <h2 id="on-demand-streaming-smooth">Configuring On-Demand Microsoft Smooth Streaming</h2> 
                     				
                     				
                     <p>You can use CloudFront for providing on-demand video by using files that you&apos;ve transcoded
                        into the 
                        					Microsoft Smooth Streaming format. To distribute Smooth Streaming content on
                        demand, you have 
                        					two options:
                     </p> 
                     				
                     <div class="itemizedlist"> 
                        					 
                        					 
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem"> 
                              						
                              <p>As the origin for your distribution, specify a web server running Microsoft IIS
                                 							that can stream files that have been transcoded into Microsoft Smooth Streaming
                                 format.
                              </p> 
                              					
                           </li>
                           <li class="listitem"> 
                              						
                              <p>Enable Smooth Streaming in a CloudFront distribution. Smooth Streaming is a property
                                 of 
                                 							cache behaviors, which means that you can use one distribution to distribute
                                 Smooth 
                                 							Streaming media files as well as other content. 
                              </p> 
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     				
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>If your origin is a web server running Microsoft IIS, do not enable Smooth Streaming
                           when you
                           					create your CloudFront distribution. CloudFront can&apos;t use a Microsoft IIS server
                           as an origin if you enable
                           					Smooth Streaming.
                        </p>
                     </div>
                     				
                     <p>If you enable Smooth Streaming for an origin server (that is, you do not have a server
                        					that is running Microsoft IIS), note the following:
                     </p> 
                     				
                     <div class="itemizedlist"> 
                        					 
                        					 
                        					 
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem"> 
                              						
                              <p>You can still distribute other content using the same cache behavior if the content
                                 
                                 							matches the value of <b>Path Pattern</b> for that cache behavior.
                              </p> 
                              					
                           </li>
                           <li class="listitem"> 
                              						
                              <p>CloudFront can use either an Amazon S3 bucket or a custom origin for Smooth Streaming
                                 media 
                                 							files. However, CloudFront cannot use a Microsoft IIS Server as an origin if
                                 the server is 
                                 							configured for Smooth Streaming. 
                              </p> 
                              					
                           </li>
                           <li class="listitem"> 
                              						
                              <p>You cannot invalidate media files in the Smooth Streaming format. If you want to 
                                 							update files before they expire, you must rename them. For more information,
                                 see 
                                 							<a href="AddRemoveReplaceObjects.html">Adding, Removing, or Replacing Content That CloudFront Distributes</a>.
                              </p> 
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     				
                     <p>For information about Smooth Streaming clients, see <a href="http://www.iis.net/learn/media/smooth-streaming/smooth-streaming-primer" target="_blank">Smooth 
                           					Streaming Primer</a> on the Microsoft website.
                     </p>
                     				
                     				
                     <p>To use CloudFront to stream media files that have been encoded in the Microsoft Smooth
                        Streaming 
                        					format without using a Microsoft IIS web server that can stream files in Smooth
                        Streaming format, do 
                        					the following:
                     </p>
                     				
                     				
                     <ol>
                        <li> 
                           						
                           <p>Transcode your media files into Smooth Streaming fragmented-MP4 format.</p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Do one of the following:</p> 
                           						
                           <div class="itemizedlist"> 
                              							 
                              							 
                              						
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem"> 
                                    								
                                    <p><b>If you&apos;re using the CloudFront console:</b> When you create 
                                       									a web distribution, enable Smooth Streaming in the default cache behavior.
                                       
                                       									Alternatively, you can enable Smooth Streaming in the default cache behavior
                                       and/or 
                                       									one or more custom cache behaviors in an existing CloudFront web distribution.
                                       
                                    </p> 
                                    							
                                 </li>
                                 <li class="listitem"> 
                                    								
                                    <p><b>If you&apos;re using the CloudFront API:</b> Add the 
                                       									<code class="code">SmoothStreaming</code> element to the <code class="code">DistributionConfig</code> complex 
                                       									type for the default cache behavior and/or one or more custom cache behaviors.
                                       
                                    </p> 
                                    							
                                 </li>
                              </ul>
                           </div> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Upload the files in your Smooth Streaming presentations to your origin.</p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Create either a <code class="code">clientaccesspolicy.xml</code> or a 
                              							<code class="code">crossdomainpolicy.xml</code> file, and add it to a location that is accessible at 
                              							the root of your distribution, for example, 
                              							<code class="code">http://d111111abcdef8.cloudfront.net/clientaccesspolicy.xml</code>. The following is an 
                              							example policy:
                           </p> 
                           						<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;access-policy&gt;
&lt;cross-domain-access&gt;
&lt;policy&gt;
&lt;allow-from http-request-headers=&quot;*&quot;&gt;
&lt;domain uri=&quot;*&quot;/&gt;
&lt;/allow-from&gt;
&lt;grant-to&gt;
&lt;resource path=&quot;/&quot; include-subpaths=&quot;true&quot;/&gt;
&lt;/grant-to&gt;
&lt;/policy&gt;
&lt;/cross-domain-access&gt;
&lt;/access-policy&gt; </code></pre> 
                           						<p>For more information, see <a href="http://msdn.microsoft.com/en-us/library/cc197955(v=vs.95).aspx" target="_blank">Making a Service 
                                 							Available Across Domain Boundaries</a> on the Microsoft Developer Network website. 
                              						
                           </p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>For links in your application, specify the client manifest in the following format:</p> 
                           						
                           <p><code class="code">http://d111111abcdef8.cloudfront.net/video/presentation.ism/Manifest</code></p> 
                           					
                        </li>
                     </ol> 
                     			
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="on-demand-streaming-video.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="live-streaming.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Configuring On-Demand Microsoft Smooth Streaming"><a class="pagetoc" href="#on-demand-streaming-smooth">Configuring On-Demand Microsoft Smooth Streaming</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>