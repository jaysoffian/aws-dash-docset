<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Using Amazon S3 Origins, MediaPackage Channels, and Custom Origins for Web 
         			Distributions - Amazon CloudFront
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="distribution-working-with.html" title="Working with Distributions">
      <link rel="prev" href="HowToDeleteDistribution.html" title="Deleting a Distribution">
      <link rel="next" href="CNAMEs.html" title="Using Custom URLs for Files by Adding Alternate Domain Names (CNAMEs)">
      <meta name="description" content="When you create a distribution, you specify where CloudFront sends requests for the files. CloudFront supports using several AWS resources as origins. For example, you can specify an Amazon S3 bucket or a MediaStore container, a MediaPackage channel, or a custom origin, such as an Amazon EC2 instance or your own HTTP web server.">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/DownloadDistS3AndCustomOrigins.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudfront/index.html">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="distribution-working-with.html">Working with Distributions</a> &#xBB; <span class="breadcrumb">Using Amazon S3 Origins, MediaPackage Channels, and Custom Origins for Web 
                                    			Distributions</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="DownloadDistS3AndCustomOrigins">Using Amazon S3 Origins, MediaPackage Channels, and Custom Origins for Web 
                        			Distributions
                     </h1>
                     <p>When you create a distribution, you specify where CloudFront sends requests for the
                        files. 
                        			CloudFront supports using several AWS resources as origins. For example, you can
                        specify an Amazon S3 bucket 
                        			or a MediaStore container, a MediaPackage channel, or a custom origin, such as
                        an Amazon EC2 instance or your own HTTP web
                        			server.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#concept_S3Origin">Using Amazon S3 Buckets for Your Origin</a></li>
                           <li><a href="#concept_S3Origin_website">Using Amazon S3 Buckets Configured as Website Endpoints for Your Origin</a></li>
                           <li><a href="#concept_AWS_Media">Using a MediaStore Container or a MediaPackage Channel for Your Origin</a></li>
                           <li><a href="#concept_CustomOrigin">Using Amazon EC2 or Other Custom Origins</a></li>
                           <li><a href="#concept_origin_groups">Using CloudFront Origin Groups</a></li>
                           <li><a href="#adding-cloudfront-to-s3">Adding CloudFront When You&apos;re Already
                                 			Distributing Content from Amazon S3</a></li>
                           <li><a href="#move-s3-bucket-different-region">Moving an Amazon S3 
                                 			Bucket to a Different Region</a></li>
                        </ul>
                     </div>
                     			
                     <h2 id="concept_S3Origin">Using Amazon S3 Buckets for Your Origin</h2> 
                     			
                     			
                     <p>When you use Amazon S3 as an origin for your distribution, you place any objects that
                        you 
                        				want CloudFront to deliver in an Amazon S3 bucket. You can use any method that
                        is supported by Amazon S3 to 
                        				get your objects into Amazon S3, for example, the Amazon S3 console or API, or
                        a third-party tool. You 
                        				can create a hierarchy in your bucket to store the objects, just as you would
                        with any other 
                        				Amazon S3 bucket.
                     </p> 
                     			
                     <p>Using an existing Amazon S3 bucket as your CloudFront origin server doesn&apos;t change
                        the bucket in 
                        				any way; you can still use it as you normally would to store and access Amazon
                        S3 objects at the 
                        				standard Amazon S3 price. You incur regular Amazon S3 charges for storing the
                        objects in the bucket. 
                        				For more information about the charges to use CloudFront, see <a href="reports.html">CloudFront Reports</a>.
                     </p>
                     			
                     			
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>For your bucket to work with CloudFront, the name must conform to DNS naming requirements.
                           
                           					For more information, go to <a href="./AmazonS3/latest/dev/BucketRestrictions.html">Bucket 
                              						Restrictions and Limitations</a> in the <em>Amazon Simple Storage Service Developer Guide</em>.
                        </p>
                     </div>
                     			
                     			
                     <p>When you specify the Amazon S3 bucket that you want CloudFront to get objects from,
                        we recommend that you
                        				use the following format to access the bucket:
                     </p>
                     			
                     <p><code class="code"><em class="replaceable"><code>bucket-name</code></em>.s3.<em class="replaceable"><code>region</code></em>.amazonaws.com</code></p> 
                     			
                     <p>Another option might be to use the following more general format, but be aware that
                        this format
                        				doesn&apos;t work for Regions launched in 2019 or later:
                     </p> 
                     			
                     <p><code class="code"><em class="replaceable"><code>bucket-name</code></em>.s3.amazonaws.com</code></p> 
                     			
                     <p>When you specify the bucket name in this format, you can use the following CloudFront
                        
                        				features:
                     </p> 
                     			
                     <div class="itemizedlist"> 
                        				 
                        				 
                        				 
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem"> 
                              					
                              <p>Configure CloudFront to communicate with your Amazon S3 bucket using SSL. For more
                                 
                                 						information, see <a href="using-https.html">Using HTTPS with CloudFront</a>.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>Use an origin access identity to require that your users access your content 
                                 						using CloudFront URLs, not by using Amazon S3 URLs. For more information, see
                                 <a href="private-content-restricting-access-to-s3.html">Restricting Access to Amazon S3 Content by Using an Origin
                                    				Access Identity</a>.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>Update the content of your bucket by submitting <code class="code">POST</code> and 
                                 						<code class="code">PUT</code> requests to CloudFront. For more information, see <a href="RequestAndResponseBehaviorS3Origin.html#RequestS3HTTPMethods">HTTP Methods</a> in the 
                                 						topic <a href="RequestAndResponseBehaviorS3Origin.html#RequestBehaviorS3Origin">How CloudFront Processes and Forwards Requests to Your Amazon S3 Origin Server</a>.
                              </p> 
                              				
                           </li>
                        </ul>
                     </div> 
                     			
                     <p>Do not specify the bucket using the following formats:</p>
                     			
                     <div class="itemizedlist"> 
                        				 
                        				 
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem"> 
                              					
                              <p>The Amazon S3 path style, 
                                 						<code class="code">s3.amazonaws.com/<em class="replaceable"><code>bucket-name</code></em></code></p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>The Amazon S3 CNAME, if any</p> 
                              				
                           </li>
                        </ul>
                     </div> 
                     			
                     		
                     			
                     <h2 id="concept_S3Origin_website">Using Amazon S3 Buckets Configured as Website Endpoints for Your Origin</h2> 
                     			
                     			
                     <p>You can set up an Amazon S3 bucket that is configured as a website endpoint as custom
                        origin with CloudFront.
                     </p>
                     			
                     			
                     <div class="itemizedlist">
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p>When you configure your CloudFront distribution, for the origin, enter the Amazon
                                 S3 static website hosting endpoint for your bucket. 
                                 					This value appears in the Amazon S3 console, on the <b>Properties</b> page under
                                 					<b>Static Website Hosting</b>. For example:
                              </p>
                              					
                              					
                              <p><code class="code">https://<em class="replaceable"><code>bucket-name</code></em>.s3-website.<em class="replaceable"><code>region</code></em>.amazonaws.com</code></p> 
                              				
                           </li>
                        </ul>
                     </div>
                     			
                     			
                     <p>For more information about specifying Amazon S3 static website endpoints, see <a href="./AmazonS3/latest/dev/WebsiteEndpoints.html">Website Endpoints</a> in the Amazon S3 documentation.
                     </p>
                     			
                     <p>When you specify the bucket name in this format as your origin, you can use Amazon
                        S3 redirects and Amazon S3 custom
                        				error documents. For more information about Amazon S3 features, see the <a href="./AmazonS3/latest/dev/Welcome.html">Amazon S3 documentation</a>. (CloudFront also provides custom error pages. 
                        				For more information, see <a href="custom-error-pages.html">Creating a Custom Error 
                           		Page for Specific HTTP Status Codes</a>.) 
                     </p>
                     			
                     <p>Using an Amazon S3 bucket as your CloudFront origin server doesn&apos;t change it in any
                        way. You can still
                        				use it as you normally would and you incur regular Amazon S3 charges. For more
                        				information about the charges to use CloudFront, see <a href="reports.html">CloudFront Reports</a>.
                     </p> 
                     			
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If you use the CloudFront API to create your distribution with an Amazon S3 bucket
                           that is configured as a website endpoint, 
                           				you must configure it by using <code class="code">CustomOriginConfig</code>, even though the website is hosted in an Amazon S3
                           				bucket. For more information about creating distributions by using the CloudFront
                           API, see
                           				<a href="./cloudfront/latest/APIReference/API_CreateDistribution.html">CreateDistribution</a>
                           				in the <em>Amazon CloudFront API Reference</em>.
                        </p>
                     </div>
                     		
                     			
                     <h2 id="concept_AWS_Media">Using a MediaStore Container or a MediaPackage Channel for Your Origin</h2> 
                     			
                     			
                     <p>To stream video by using CloudFront, you can set up an Amazon S3 bucket that is configured
                        as a MediaStore container, or 
                        				create a channel and endpoints with MediaPackage. Then you create and configure
                        a distribution in CloudFront to stream the video.
                     </p>
                     			
                     <p>For more information and step-by-step instructions, see the following topics:</p>
                     			
                     			
                     <div class="itemizedlist">
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><a href="live-streaming.html#video-streaming-mediastore">Serving Video Using AWS Elemental MediaStore as the Origin</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="live-streaming.html#live-streaming-with-mediapackage">Serving Live Video Formatted with AWS Elemental MediaPackage</a></p>
                           </li>
                        </ul>
                     </div>
                     		
                     			
                     <h2 id="concept_CustomOrigin">Using Amazon EC2 or Other Custom Origins</h2> 
                     			
                     			
                     <p>A custom origin is an HTTP server, for example, a web server. The HTTP server can
                        be an 
                        				Amazon Elastic Compute Cloud (Amazon EC2) instance or an HTTP server that you
                        manage privately. An Amazon S3 origin configured as a website
                        				endpoint is also considered a custom origin.
                     </p>
                     			
                     <p>When you use a custom origin that is your own HTTP server, 
                        				you specify the DNS name of the server, along with the HTTP and HTTPS ports and
                        the protocol 
                        				that you want CloudFront to use when fetching objects from your origin.
                     </p>
                     			
                     			
                     <p>Most CloudFront features are supported when you use a custom origin with the following
                        
                        				exceptions:
                     </p> 
                     			
                     <div class="itemizedlist"> 
                        				 
                        				 
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem"> 
                              					
                              <p><span class="topcom">RTMP distributions</span>&#x2014;Not supported.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p><span class="topcom">Private content</span>&#x2014;Although you can use a signed 
                                 						URL to distribute content from a custom origin, for CloudFront to access the
                                 custom origin, 
                                 						the origin must remain publicly accessible. For more information, see <a href="PrivateContent.html">Serving Private Content with Signed URLs and Signed Cookies</a>.
                              </p> 
                              				
                           </li>
                        </ul>
                     </div>
                     
                     			
                     <p>Follow these guidelines for using Amazon EC2 instances and other custom origins with
                        CloudFront. 
                     </p>
                     			
                     			
                     <div class="itemizedlist"> 
                        				 
                        				 
                        				 
                        				 
                        				 
                        				 
                        				 
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem"> 
                              					
                              <p>Host and serve the same content on all servers that are serving content for the same
                                 						CloudFront origin. For more information, see <a href="distribution-web-values-specify.html#DownloadDistValuesOrigin">Origin Settings</a> in the 
                                 						<a href="distribution-web-values-specify.html">Values That You Specify When You Create or Update a Distribution</a> 
                                 						topic.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>Log the <code class="code">X-Amz-Cf-Id</code> header entries on all servers; CloudFront requires this 
                                 						information for debugging.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>Restrict access requests to the HTTP and HTTPS ports that your custom origin listens
                                 
                                 						on.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>Synchronize the clocks of all servers in your implementation. Note that CloudFront
                                 uses Coordinated 
                                 						Universal Time (UTC) for signed URLs and signed cookies, for access logs, and
                                 reports. In 
                                 						addition, if you monitor CloudFront activity using CloudWatch metrics, note
                                 that CloudWatch also uses UTC.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>Use redundant servers to handle failures.</p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>For information about using a custom origin to serve private content, see <a href=".html#private-content-overview-choosing-origin"></a>.
                              </p> 
                              				
                           </li>
                           <li class="listitem"> 
                              					
                              <p>For information about request and response behavior and about supported HTTP status
                                 
                                 						codes, see <a href="RequestAndResponseBehavior.html">Request and Response Behavior</a>.
                              </p> 
                              				
                           </li>
                        </ul>
                     </div>
                     			
                     			
                     <p>If you use Amazon EC2 for your custom origins, we recommend that you do the 
                        				following:
                     </p>
                     			
                     			
                     <ol>
                        <li> 
                           					
                           <p>Use an Amazon Machine Image that automatically installs the software for a web server.
                              
                              						For more information, see the <a href="http://aws.amazon.com/documentation/ec2/" target="_blank">Amazon EC2 
                                 							documentation</a>.
                           </p> 
                           				
                        </li>
                        <li> 
                           					
                           <p>Use an Elastic Load Balancing load balancer to handle traffic across multiple Amazon
                              EC2 instances and to 
                              						isolate your application from changes to Amazon EC2 instances. For example,
                              if you use a load 
                              						balancer, you can add and delete Amazon EC2 instances without changing your
                              application. For 
                              						more information, see the <a href="http://aws.amazon.com/documentation/elasticloadbalancing/" target="_blank">Elastic Load Balancing 
                                 							documentation</a>.
                           </p> 
                           				
                        </li>
                        <li> 
                           					
                           <p>When you create your CloudFront distribution, specify the URL of the load balancer
                              for the 
                              						domain name of your origin server. For more information, see <a href="distribution-web-creating-console.html">Creating a Distribution</a>.
                           </p> 
                           				
                        </li>
                     </ol>
                     			
                     		
                     				
                     <h2 id="concept_origin_groups">Using CloudFront Origin Groups</h2> 
                     
                     			
                     <p>You can specify an origin group for your CloudFront origin if, for example, you want
                        to configure
                        				origin failover for scenarios when you need high availability. Use origin failover
                        to designate a primary 
                        				origin for CloudFront plus a second origin that CloudFront automatically switches
                        to when the primary origin returns 
                        				specific HTTP status code failure responses. 
                     </p>
                     			
                     <p>To see the steps for setting up an origin group and for more information, see 
                        				<a href="high_availability_origin_failover.html">Optimizing High Availability with CloudFront Origin Failover</a>.
                     </p>
                     			
                     		
                     <h2 id="adding-cloudfront-to-s3">Adding CloudFront When You&apos;re Already
                        			Distributing Content from Amazon S3
                     </h2>
                     			
                     			
                     			
                     <p>If you store your objects in an Amazon S3 bucket, you can either have users get your
                        				objects directly from S3, or you can configure CloudFront to get your objects
                        from S3 and then
                        				distribute them to your users.
                     </p>
                     			
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>To learn more about using Amazon S3 buckets for your origin with CloudFront, including
                           when you have an Amazon S3 bucket
                           				configured as a website endpoint, see <a href="DownloadDistS3AndCustomOrigins.html">Using Amazon S3 Origins, MediaPackage Channels, and Custom Origins for Web 
                              			Distributions</a>.
                        </p>
                     </div>
                     			
                     <p>Using CloudFront can be more cost effective if your users access your objects frequently
                        				because, at higher usage, the price for CloudFront data transfer is lower than
                        the price for Amazon S3
                        				data transfer. In addition, downloads are faster with CloudFront than with Amazon
                        S3 alone because your
                        				objects are stored closer to your users.
                     </p>
                     			
                     			
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If you want CloudFront to respect Amazon S3 cross-origin resource sharing settings,
                           configure
                           					CloudFront to forward the <code class="code">Origin</code> header to Amazon S3. For more information, see <a href="header-caching.html">Caching Content Based on Request Headers</a>.
                        </p>
                     </div>
                     			
                     			
                     <p>If you currently distribute content directly from your Amazon S3 bucket using your
                        own domain
                        				name (such as example.com) instead of the domain name of your Amazon S3 bucket
                        (such as
                        				MyAWSBucket.s3.us-west-2.amazonaws.com), you can add CloudFront with no disruption
                        by using the following
                        				procedure.
                     </p>
                     			
                     			<a id="migrate-s3-to-cloudfront-process"></a><p class="title"><b>To add CloudFront when you&apos;re already
                           					distributing your content from Amazon S3</b></p>
                     <ol>
                        <li>
                           					
                           <p>Create a CloudFront distribution using one of the following procedures:</p>
                           					
                           <div class="itemizedlist">
                              						
                              						
                              					
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    							
                                    <p><a href="distribution-web-creating.html">Steps for Creating a Distribution (Overview)</a></p>
                                    						
                                 </li>
                                 <li class="listitem">
                                    							
                                    <p><a href="distribution-rtmp-creating.html">Task List for Streaming Media Files Using RTMP</a></p>
                                    						
                                 </li>
                              </ul>
                           </div>
                           					
                           <p>When you create the distribution, specify the name of your Amazon S3 bucket as the
                              origin
                              						server.
                           </p>
                           					
                           <div class="aws-note">
                              <p class="aws-note">Important</p>
                              <p>For your bucket to work with CloudFront, the name must conform to DNS naming
                                 							requirements. For more information, see <a href="./AmazonS3/latest/dev/BucketRestrictions.html">Bucket Restrictions and
                                    								Limitations</a> in the <em>Amazon Simple Storage Service Developer Guide</em>.
                              </p>
                           </div>
                           					
                           <p>If you&apos;re using a CNAME with Amazon S3, specify the CNAME for your distribution,
                              						too.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>Create a test web page that contains links to publicly readable objects in your Amazon
                              S3
                              						bucket, and test the links. For this initial test, use the CloudFront domain
                              name of your
                              						distribution in the object URLs, for example,
                              						<code class="code">http://d111111abcdef8.cloudfront.net/images/image.jpg</code>. 
                           </p>
                           					
                           <p>For more information about the format of CloudFront URLs, see <a href="LinkFormat.html">Customizing the URL Format for Files in CloudFront</a>.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>If you&apos;re using Amazon S3 CNAMEs, your application uses your domain name (for example,
                              						example.com) to reference the objects in your Amazon S3 bucket instead of using
                              the name of
                              						your bucket (for example, myawsbucket.s3.amazonaws.com). To continue using your
                              						domain name to reference objects instead of using the CloudFront domain name
                              for your
                              						distribution (for example, d111111abcdef8.cloudfront.net), you need to update
                              your settings with
                              						your DNS service provider.
                           </p>
                           					
                           <p>For Amazon S3 CNAMEs to work, your DNS service provider must have a CNAME resource
                              record
                              						set for your domain that currently routes queries for the domain to your Amazon
                              S3 bucket.
                              						For example, if a user requests this object:
                           </p>
                           					
                           <p><code class="code">http://example.com/images/image.jpg</code></p>
                           					
                           <p>the request is automatically rerouted, and the user sees this object:</p>
                           					
                           <p><code class="code">http://myawsbucket.s3.amazonaws.com/images/image.jpg</code></p>
                           					
                           <p>To route queries to your CloudFront distribution instead of your Amazon S3 bucket,
                              you need to
                              						use the method provided by your DNS service provider to update the CNAME resource
                              record
                              						set for your domain. This updated CNAME record will start to redirect DNS queries
                              from
                              						your domain to the CloudFront domain name for your distribution. For more information,
                              see the
                              						documentation provided by your DNS service provider.
                           </p>
                           					
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>If you&apos;re using Route&#xA0;53 as your DNS service, you can use either a CNAME resource
                                 							record set or an alias resource record set. For information about editing resource
                                 							record sets, see <a href="./Route53/latest/DeveloperGuide/resource-record-sets-editing.html">Editing
                                    								Resource Record Sets</a>. For information about alias resource record sets, see
                                 							<a href="./Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html">Choosing Between Alias and Non-Alias Resource Record Sets</a>. Both topics are
                                 							in the <em>Amazon Route&#xA0;53 Developer Guide</em>.
                              </p>
                           </div>
                           					
                           <p>For more information about using CNAMEs with CloudFront, see <a href="CNAMEs.html">Using Custom URLs for Files by Adding Alternate Domain Names (CNAMEs)</a>.
                           </p>
                           					
                           <p>After you update the CNAME resource record set, it can take up to 72 hours for the
                              						change to propagate throughout the DNS system, although it usually happens faster.
                              						During this time, some requests for your content will continue to be routed
                              to your Amazon S3
                              						bucket, and others will be routed to CloudFront. 
                           </p>
                           				
                        </li>
                     </ol>
                     		
                     <h2 id="move-s3-bucket-different-region">Moving an Amazon S3 
                        			Bucket to a Different Region
                     </h2>
                     			
                     			
                     <p>If you&apos;re using Amazon S3 as the origin for a CloudFront distribution and you move
                        the bucket to a
                        				different region, CloudFront can take up to an hour to update its records to include
                        the change of
                        				region when both of the following are true:
                     </p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p>You&apos;re using a CloudFront origin access identity (OAI) to restrict access to the
                                 						bucket
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>You move the bucket to an Amazon S3 region that requires Signature Version 4 for
                                 						authentication
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     			
                     <p>When you&apos;re using OAIs, CloudFront uses the region (among other values) to calculate
                        the
                        				signature that it uses to request objects from your bucket. For more information
                        about OAIs,
                        				see <a href="private-content-restricting-access-to-s3.html">Restricting Access to Amazon S3 Content by Using an Origin
                           				Access Identity</a>. For a list of Amazon S3 regions and
                        				the signature versions that they support, see <a href="./general/latest/gr/rande.html#s3_region">Amazon Simple Storage Service (Amazon S3)</a> in the &quot;Regions and Endpoints&quot; chapter of the
                        				<em>Amazon Web Services General Reference</em>.
                     </p>
                     			
                     <p>To force a faster update to CloudFront&apos;s records, you can update your CloudFront distribution,
                        for
                        				example, by updating the <b>Comment</b> field on the
                        				<b>General</b> tab in the CloudFront console. When you update a distribution, CloudFront
                        				immediately checks on the region that your bucket is in; propagation of the change
                        to all
                        				edge locations should take less than 15 minutes.
                     </p>
                     		
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="HowToDeleteDistribution.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="CNAMEs.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Using Amazon S3 Buckets for Your Origin"><a class="pagetoc" href="#concept_S3Origin">Using Amazon S3 Buckets for Your Origin</a></li>
                        <li class="pagetoc" name="Using Amazon S3 Buckets Configured as Website Endpoints for Your Origin"><a class="pagetoc" href="#concept_S3Origin_website">Using Amazon S3 Buckets Configured as Website Endpoints for Your Origin</a></li>
                        <li class="pagetoc" name="Using a MediaStore Container or a MediaPackage Channel for Your Origin"><a class="pagetoc" href="#concept_AWS_Media">Using a MediaStore Container or a MediaPackage Channel for Your Origin</a></li>
                        <li class="pagetoc" name="Using Amazon EC2 or Other Custom Origins"><a class="pagetoc" href="#concept_CustomOrigin">Using Amazon EC2 or Other Custom Origins</a></li>
                        <li class="pagetoc" name="Using CloudFront Origin Groups"><a class="pagetoc" href="#concept_origin_groups">Using Origin Groups</a></li>
                        <li class="pagetoc" name="Adding CloudFront When You&apos;re Already
			Distributing Content from Amazon S3"><a class="pagetoc" href="#adding-cloudfront-to-s3">Adding CloudFront When You Have Amazon S3 Content</a></li>
                        <li class="pagetoc" name="Moving an Amazon S3 
			Bucket to a Different Region"><a class="pagetoc" href="#move-s3-bucket-different-region">Moving an Amazon S3 
                              			Bucket to a Different Region</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>