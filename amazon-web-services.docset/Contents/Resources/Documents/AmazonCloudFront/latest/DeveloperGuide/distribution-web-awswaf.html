<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Using AWS WAF to Control Access to Your Content - Amazon CloudFront</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="SecurityAndPrivateContent.html" title="Configuring Secure Access and Limiting Access to Content">
      <link rel="prev" href="private-content-restricting-access-to-s3.html" title="Restricting Access to Amazon S3 Content by Using an Origin
				Access Identity">
      <link rel="next" href="georestrictions.html" title="Restricting the Geographic Distribution of Your Content">
      <meta name="description" content="AWS WAF is a web application firewall that lets you monitor the HTTP and HTTPS requests that are forwarded to CloudFront, and lets you control access to your content. Based on conditions that you specify, such as the IP addresses that requests originate from or the values of query strings, CloudFront responds to requests either with the requested content or with an HTTP 403 status code (Forbidden). You can also configure CloudFront to return a custom error page when a request is blocked. For more information about AWS WAF, see the">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-awswaf.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudfront/index.html">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="SecurityAndPrivateContent.html">Configuring Secure Access and Limiting Access to Content</a> &#xBB; <span class="breadcrumb">Using AWS WAF to Control Access to Your Content</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="distribution-web-awswaf">Using AWS WAF to Control Access to Your Content</h1>
                     <p>AWS WAF is a web application firewall that lets you monitor the HTTP and HTTPS requests
                        that are forwarded to CloudFront,
                        			and lets you control access to your content. Based on conditions that you specify,
                        such as the IP addresses that
                        			requests originate from or the values of query strings, CloudFront responds to
                        requests either with the requested content or
                        			with an HTTP 403 status code (Forbidden). You can also configure CloudFront to
                        return a custom error page when a request is
                        			blocked. For more information about AWS WAF, see the <a href="./waf/latest/developerguide/">AWS WAF Developer Guide</a>. 
                     </p>
                     <p>After you create an AWS WAF web access control list (web ACL), you create or update
                        a web distribution and associate
                        			the distribution with a web ACL. You can associate as many CloudFront distributions
                        as you want with the same web ACL or
                        			with different web ACLs. For information about creating a web distribution and
                        associating it with a web ACL, see
                        				<a href="distribution-web-creating-console.html">Creating a Distribution</a>.
                     </p>
                     <p>To associate or disassociate a web ACL and an existing distribution, or change the
                        web ACL that is associated with a
                        			distribution, perform the following procedure.
                     </p><a id="distribution-web-awswaf-procedure"></a><p class="title"><b>To associate or disassociate an AWS WAF web ACL and an existing CloudFront
                           				distribution by using the CloudFront console</b></p>
                     <ol>
                        <li>
                           <p>Sign in to the AWS Management Console and open the CloudFront console at
                              <a href="https://console.aws.amazon.com/cloudfront/" target="_blank">https://console.aws.amazon.com/cloudfront/</a>.
                           </p>
                        </li>
                        <li>
                           				
                           <p>Choose the ID for the distribution that you want to update.</p>
                           			
                        </li>
                        <li>
                           				
                           <p>On the <b>General</b> tab, choose <b>Edit</b>.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>On the <b>Distribution Settings</b> page, in the <b>AWS WAF Web ACL</b> list,
                              					choose the web ACL that you want to associate with this distribution.
                           </p>
                           				
                           <p>If you want to disassociate the distribution from all web ACLs, choose <b>None</b>. If you
                              					want to associate the distribution with a different web ACL, choose the new web
                              ACL.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Choose <b>Yes, Edit</b>.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Repeat steps 2 through 5 for other distributions, if any, for which you want to add,
                              delete, or change
                              					associations with AWS WAF web ACLs.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>After you change settings, the value of the <b>Status</b> column for the distributions that
                              					you updated changes to <b>InProgress</b> while CloudFront propagates the changes to edge locations.
                              					When <b>Status</b> changes to <b>Deployed</b> for a distribution, the distribution
                              					is ready to use AWS WAF when it processes requests. (The value of the <b>State</b> column for the
                              					distribution must also be <b>Enabled</b>.) This should take less than 15 minutes after you save
                              					the last change to a distribution.
                           </p>
                           			
                        </li>
                     </ol>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p><a href="https://aws.amazon.com/firewall-manager/" target="_blank">AWS Firewall Manager</a> is a security management service that 
                           			makes it easier to centrally configure and manage AWS WAF rules across your accounts
                           and applications. Using Firewall Manager, you 
                           			can roll out AWS WAF rules to your CloudFront distributions across accounts in
                           AWS Organizations. For more information, 
                           			see the <a href="./waf/latest/developerguide/fms-chapter.html">AWS Firewall Manager Developer Guide</a>.
                        </p>
                     </div>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="private-content-restricting-access-to-s3.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="georestrictions.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>