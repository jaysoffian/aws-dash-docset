<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Monitoring API Gateway API Configuration with AWS Config - Amazon API Gateway</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="welcome.html" title="What Is Amazon API Gateway?">
      <link rel="prev" href="delete-canary-deployment.html" title="Disable a Canary Release">
      <link rel="next" href="apigateway-tagging.html" title="Tagging Your API Gateway Resources">
      <meta name="description" content="Learn how to monitor API configuration using AWS Config.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-config.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/apigateway/index.html">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <span class="breadcrumb">Monitoring API Gateway API Configuration with AWS Config</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="apigateway-config">Monitoring API Gateway API Configuration with AWS Config</h1>
                     <p>You can use <a href="https://aws.amazon.com/config/" target="_blank">AWS Config</a> to record
                        configuration changes made to your API Gateway API resources and send notifications
                        based on
                        resource changes. Maintaining a configuration change history for API Gateway resources
                        is useful
                        for operational troubleshooting, audit, and compliance use cases.
                     </p>
                     <p>AWS Config can track changes to:</p>
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><b>API stage configuration</b>, such as:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>cache cluster settings</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>throttle settings</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>access log settings</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>the active deployment set on the stage</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><b>API configuration</b>, such as:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>endpoint configuration</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>version</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>protocol</p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>tags</p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                           </li>
                        </ul>
                     </div>
                     <p>In addition, the AWS Config Rules feature enables you to define configuration rules
                        and automatically
                        detect, track, and alert violations to these rules. By tracking changes to these resource
                        configuration properties, you can also author change-triggered AWS Config rules for
                        your API Gateway
                        resources, and test your resource configurations against best practices.
                     </p>
                     <p>You can enable AWS Config in your account by using the AWS Config console or the AWS
                        CLI. Select the
                        resource types for which you want to track changes. If you previously configured AWS
                        Config to
                        record all resource types, then these API Gateway resources will be automatically
                        recorded in your
                        account. Support for Amazon API Gateway in AWS Config is available in all AWS public
                        regions and
                        AWS GovCloud (US). For the full list of supported Regions, see <a href="./general/latest/gr/rande.html#apigateway_region">Regions and
                           Endpoints</a> in the AWS General Reference.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#apigateway-config-resources-rules">Supported Resource
                                 Types</a></li>
                           <li><a href="#apigateway-config-setup">Setting up AWS Config</a></li>
                           <li><a href="#apigateway-config-configuring">Configuring AWS Config to Record API Gateway
                                 Resources</a></li>
                           <li><a href="#apigateway-config-console">Viewing API Gateway Configuration Details in the
                                 AWS Config Console</a></li>
                           <li><a href="#apigateway-config-rules">Evaluating API Gateway Resources Using AWS Config
                                 Rules</a></li>
                        </ul>
                     </div>
                     
                     <h2 id="apigateway-config-resources-rules">Supported Resource
                        Types
                     </h2>
                     
                     <p>The following API Gateway resource types are integrated with AWS Config and are documented
                        in
                        <a href="./config/latest/developerguide/resource-config-reference.html">AWS Config Supported AWS
                           Resource Types and Resource Relationships</a>:
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><code class="code">AWS::ApiGatewayV2::Api</code> (WebSocket API)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">AWS::ApiGateway::RestApi</code> (REST API)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">AWS::ApiGatewayV2::Stage</code> (WebSocket API stage)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">AWS::ApiGateway::Stage</code> (REST API stage)
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <p>For more information about AWS Config, see the <a href="./config/latest/developerguide/">AWS Config Developer Guide</a>. For pricing information, see
                        the <a href="https://aws.amazon.com/config/pricing/" target="_blank">AWS Config pricing information
                           page</a>.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>If you change any of the following API properties after the API is deployed, you
                           <em>must</em>
                           <a href="how-to-deploy-api.html">redeploy</a> the API to propagate the changes.
                           Otherwise, you&apos;ll see the attribute changes in the AWS Config console, but the previous
                           property settings will still be in effect; the API&apos;s runtime behavior will be
                           unchanged.
                        </p>
                        <div class="itemizedlist">
                           
                           
                           
                           <ul class="itemizedlist" type="disc">
                              <li class="listitem">
                                 
                                 <p><span class="topcom"><code class="code">AWS::ApiGateway::RestApi</code></span>
                                    &#x2013; <code class="code">binaryMediaTypes</code>, <code class="code">minimumCompressionSize</code>,
                                    <code class="code">apiKeySource</code></p>
                                 
                              </li>
                              <li class="listitem">
                                 
                                 <p><span class="topcom"><code class="code">AWS::ApiGatewayV2::Api</code></span>
                                    &#x2013; <code class="code">apiKeySelectionExpression</code></p>
                                 
                              </li>
                           </ul>
                        </div>
                     </div>
                     
                     
                     <h2 id="apigateway-config-setup">Setting up AWS Config</h2>
                     
                     <p>To initially set up AWS Config, see the following topics in the <a href="./config/latest/developerguide/">AWS Config Developer Guide</a>.
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./config/latest/developerguide/gs-console.html">Setting Up AWS Config with the
                                    Console</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./config/latest/developerguide/gs-cli.html">Setting Up AWS Config with the
                                    AWS CLI</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <h2 id="apigateway-config-configuring">Configuring AWS Config to Record API Gateway
                        Resources
                     </h2>
                     
                     <p>By default, AWS Config records configuration changes for all supported types of regional
                        resources that it discovers in the region in which your environment is running. You
                        can
                        customize AWS Config to record changes only for specific resource types, or changes
                        to global
                        resources.
                     </p>
                     
                     <p>To learn about regional vs. global resources and learn how to customize your AWS Config
                        configuration, see <a href="./config/latest/developerguide/select-resources.html">Selecting which
                           Resources AWS Config Records</a>.
                     </p>
                     
                     
                     <h2 id="apigateway-config-console">Viewing API Gateway Configuration Details in the
                        AWS Config Console
                     </h2>
                     
                     <p>You can use the AWS Config console to look for API Gateway resources and get current
                        and
                        historical details about their configurations. The following procedure shows how to
                        find
                        information about an API Gateway API.
                     </p>
                     
                     <p class="title"><b>To find an API Gateway resource in the AWS Config console</b></p>
                     <ol>
                        <li>
                           
                           <p>Open the <a href="console.aws.amazon.com/config" target="_blank">AWS Config console</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Resources</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Resource</b> inventory page, choose
                              <b>Resources</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Open the <b>Resource type</b> menu, scroll to APIGateway or
                              APIGatewayV2, and then choose one or more of the API Gateway resource types.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Look up</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose a resource ID in the list of resources that AWS Config displays. AWS Config
                              displays configuration details and other information about the resource you
                              selected.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To see the full details of the recorded configuration, choose <b>View
                                 Details</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p>To learn more ways to find a resource and view information on this page, see <a href="./config/latest/developerguide/view-manage-resource.html">Viewing AWS Resource Configurations and
                           History</a> in the AWS Config Developer Guide.
                     </p>
                     
                     
                     <h2 id="apigateway-config-rules">Evaluating API Gateway Resources Using AWS Config
                        Rules
                     </h2>
                     
                     <p>You can create AWS Config rules, which represent the ideal configuration settings
                        for your
                        API Gateway resources. You can use predefined <a href="./config/latest/developerguide/managed-rules-by-aws-config.html">AWS Config Managed Rules</a>, or
                        define custom rules. AWS Config continuously tracks changes to the configuration of
                        your
                        resources to determine whether those changes violate any of the conditions in your
                        rules. The AWS Config console shows the compliance status of your rules and resources.
                     </p>
                     
                     <p>If a resource violates a rule and is flagged as noncompliant, AWS Config can alert
                        you using
                        an <a href="./sns/latest/dg/">Amazon Simple Notification Service Developer Guide</a> (Amazon SNS) topic. To programmatically consume the data in these AWS Config
                        alerts, use an Amazon Simple Queue Service (Amazon SQS) queue as the notification
                        endpoint for the Amazon SNS
                        topic.
                     </p>
                     
                     <p>To learn more about setting up and using rules, see <a href="./config/latest/developerguide/evaluate-config.html">Evaluating Resources with Rules</a> in
                        the <a href="./config/latest/developerguide/">AWS Config Developer Guide</a>. 
                     </p>
                     
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="delete-canary-deployment.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="apigateway-tagging.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Supported Resource
                Types"><a class="pagetoc" href="#apigateway-config-resources-rules">Supported Resource
                              Types</a></li>
                        <li class="pagetoc" name="Setting up AWS Config"><a class="pagetoc" href="#apigateway-config-setup">Setting up AWS Config</a></li>
                        <li class="pagetoc" name="Configuring AWS Config to Record API Gateway
                Resources"><a class="pagetoc" href="#apigateway-config-configuring">Configuring AWS Config to Record API Gateway
                              Resources</a></li>
                        <li class="pagetoc" name="Viewing API Gateway Configuration Details in the
                AWS Config Console"><a class="pagetoc" href="#apigateway-config-console">Viewing API Gateway Configuration Details in the
                              AWS Config Console</a></li>
                        <li class="pagetoc" name="Evaluating API Gateway Resources Using AWS Config
                Rules"><a class="pagetoc" href="#apigateway-config-rules">Evaluating API Gateway Resources Using AWS Config
                              Rules</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>