<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Configure Cross-Account
         Amazon Cognito Authorizer for a REST API Using the API Gateway Console - Amazon API Gateway
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="apigateway-integrate-with-cognito.html" title="Control Access to a REST API Using
            Amazon Cognito User Pools as Authorizer">
      <link rel="prev" href="apigateway-invoke-api-integrated-with-cognito-user-pool.html" title="Call a REST API
                Integrated with an Amazon Cognito User Pool">
      <link rel="next" href="how-to-cors.html" title="">
      <meta name="description" content="Learn how to configure a cross-account API Gateway Amazon Cognito authorizer.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-cross-account-cognito-authorizer.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/apigateway/index.html">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="apigateway-rest-api.html">Creating, Deploying, and Invoking a REST API
                                    in Amazon API Gateway</a> &#xBB; <a href="apigateway-control-access-to-api.html">Controlling and Managing Access to a REST
                                    			API in API Gateway</a> &#xBB; <a href="apigateway-integrate-with-cognito.html">Control Access to a REST API Using
                                    Amazon Cognito User Pools as Authorizer</a> &#xBB; <span class="breadcrumb">Configure Cross-Account
                                    Amazon Cognito Authorizer for a REST API Using the API Gateway Console</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="apigateway-cross-account-cognito-authorizer">Configure Cross-Account
                        Amazon Cognito Authorizer for a REST API Using the API Gateway Console
                     </h1>
                     <p>You can now also use a Amazon Cognito user pool from a different AWS account as your
                        API
                        authorizer. Each account can be in any region where Amazon API Gateway is available.
                        The Amazon Cognito
                        user pool can use bearer token authentication strategies such as OAuth or SAML. This
                        makes it easy to centrally manage and share a central Amazon Cognito user pool authorizer
                        across
                        multiple API Gateway APIs.
                     </p>
                     <p>In this section, we show how to configure a cross-account Amazon Cognito user pool
                        using the
                        Amazon API Gateway console.
                     </p>
                     <p>These instructions assume that you already have an API Gateway API in one AWS account
                        and
                        a Amazon Cognito user pool in another account.
                     </p>
                     
                     <h2 id="apigateway-configure-cross-account-cognito-authorizer">Configure
                        Cross-Account Amazon Cognito Authorizer Using the API Gateway Console
                     </h2>
                     
                     <p>Log in to the Amazon API Gateway console in your first account (the one that has your
                        API
                        in it) and do the following:
                     </p>
                     
                     <ol>
                        <li>
                           
                           <p>Locate your API and choose <b>Authorizers</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create New Authorizer</b>. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Create Authorizer</b>, type an authorizer name in the
                              <b>Name</b> input field. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Type</b>, choose the <b>Cognito</b>
                              option. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Cognito User Pool</b>, copy-paste the full ARN for
                              the user pool that you have in your second account.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>In the Amazon Cognito console, you can find the ARN for your user pool in the
                                 <b>Pool ARN</b> field of the <b>General
                                    Settings</b> pane.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Type the name of a header in <b>Token Source</b>. The API
                              client must include a header of this name to send the authorization token to
                              the Amazon Cognito authorizer. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Optionally, provide a RegEx statement in <b>Token Validation</b>
                              input field. API Gateway performs initial validation of the input token against
                              this expression and invokes the authorizer upon successful validation. This
                              helps reduce chances of being charged for invalid tokens.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create</b> to create the new Amazon Cognito authorizer for
                              your API.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="apigateway-invoke-api-integrated-with-cognito-user-pool.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="how-to-cors.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Configure
                    Cross-Account Amazon Cognito Authorizer Using the API Gateway Console"><a class="pagetoc" href="#apigateway-configure-cross-account-cognito-authorizer">Configure
                              Cross-Account Amazon Cognito Authorizer Using the API Gateway Console</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>