<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::CloudTrail::Trail DataResource - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="aws-resource-cloudtrail-trail.html" title="AWS::CloudTrail::Trail">
      <link rel="prev" href="aws-resource-cloudtrail-trail.html" title="AWS::CloudTrail::Trail">
      <link rel="next" href="aws-properties-cloudtrail-trail-eventselector.html" title="AWS::CloudTrail::Trail EventSelector">
      <meta name="description" content="The Amazon S3 buckets or AWS Lambda functions that you specify in your event selectors for your trail to log data events. Data events provide insight into the resource operations performed on or within a resource itself. These are also known as data plane operations. You can specify up to 250 data resources for a trail.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json;toc-AWS_CloudTrail.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudformation/index.html">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="AWS_CloudTrail.html">CloudTrail Resource Type Reference</a> &#xBB; <a href="aws-resource-cloudtrail-trail.html">AWS::CloudTrail::Trail</a> &#xBB; <span class="breadcrumb">AWS::CloudTrail::Trail DataResource</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-properties-cloudtrail-trail-dataresource">AWS::CloudTrail::Trail DataResource</h1>
                     <p>The Amazon S3 buckets or AWS Lambda functions that you specify in your event selectors
                        for your trail to
                        log data events. Data events provide insight into the resource operations performed
                        on or within a resource itself.
                        These are also known as data plane operations. You can specify up to 250 data resources
                        for a trail.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>The total number of allowed data resources is 250. This number can be distributed
                           between 1 and 5 event selectors, 
                           but the total cannot exceed 250 across all selectors.
                        </p>
                     </div>
                     <p>The following example demonstrates how logging works when you configure logging of
                        all data events
                        for an S3 bucket named <code class="code">bucket-1</code>. In this example, the CloudTrail user specified an empty prefix, 
                        and the option to log both <code class="code">Read</code> and <code class="code">Write</code> data events.
                     </p>
                     <div class="orderedlist">
                        
                        
                        
                        
                        
                        
                        <ol>
                           <li>
                              
                              <p>A user uploads an image file to <code class="code">bucket-1</code>.
                              </p>
                              
                           </li>
                           <li>
                              
                              <p>The <code class="code">PutObject</code> API operation is an Amazon S3 object-level API. 
                                 It is recorded as a data event in CloudTrail. Because the CloudTrail user specified
                                 an S3 bucket
                                 with an empty prefix, events that occur on any object in that bucket are logged. The
                                 trail processes and logs the
                                 event.
                              </p>
                              
                           </li>
                           <li>
                              
                              <p>A user uploads an object to an Amazon S3 bucket named
                                 <code class="code">arn:aws:s3:::bucket-2</code>.
                              </p>
                              
                           </li>
                           <li>
                              
                              <p>The <code class="code">PutObject</code> API operation occurred for an object in an S3 bucket that the CloudTrail
                                 user didn&apos;t specify for the trail. The trail doesn&#x2019;t log the event.
                              </p>
                              
                           </li>
                        </ol>
                     </div>
                     <p>The following example demonstrates how logging works when you configure logging of
                        AWS Lambda data events for a 
                        Lambda function named <em>MyLambdaFunction</em>, but not for all AWS Lambda functions.
                     </p>
                     <div class="orderedlist">
                        
                        
                        
                        
                        <ol>
                           <li>
                              
                              <p>A user runs a script that includes a call to the <em>MyLambdaFunction</em> function and the
                                 <em>MyOtherLambdaFunction</em> function.
                              </p>
                              
                           </li>
                           <li>
                              
                              <p>The <code class="code">Invoke</code> API operation on <em>MyLambdaFunction</em> is an AWS Lambda API. 
                                 It is recorded as a data event in CloudTrail. Because the CloudTrail user specified
                                 logging data events for
                                 <em>MyLambdaFunction</em>, any invocations of that function are logged. The trail processes and logs the event.
                                 
                              </p>
                              
                           </li>
                           <li>
                              
                              <p>The <code class="code">Invoke</code> API operation on <em>MyOtherLambdaFunction</em> is an AWS Lambda API. 
                                 Because the CloudTrail user did not specify logging data events for all Lambda functions,
                                 the <code class="code">Invoke</code> operation for <em>MyOtherLambdaFunction</em> does not match the function specified for the trail. 
                                 The trail doesn&#x2019;t log the event. 
                              </p>
                              
                           </li>
                        </ol>
                     </div>
                     <h2 id="aws-properties-cloudtrail-trail-dataresource-syntax">Syntax</h2>
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-properties-cloudtrail-trail-dataresource-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;<a href="#cfn-cloudtrail-trail-dataresource-type">Type</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="#cfn-cloudtrail-trail-dataresource-values">Values</a>&quot; : <em class="replaceable"><code>[ String, ... ]</code></em>
}
</code></pre></div>
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-properties-cloudtrail-trail-dataresource-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">  <a href="#cfn-cloudtrail-trail-dataresource-type">Type</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-cloudtrail-trail-dataresource-values">Values</a>: <em class="replaceable"><code>
    - String</code></em>
</code></pre></div>
                     <h2 id="aws-properties-cloudtrail-trail-dataresource-properties">Properties</h2>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="cfn-cloudtrail-trail-dataresource-type"></a><span class="term"><code class="code">Type</code></span></dt>
                           <dd>
                              
                              <p>The resource type in which you want to log data events. You can specify <code class="code">AWS::S3::Object</code> or
                                 <code class="code">AWS::Lambda::Function</code> resources.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-cloudtrail-trail-dataresource-values"></a><span class="term"><code class="code">Values</code></span></dt>
                           <dd>
                              
                              <p>An array of Amazon Resource Name (ARN) strings or partial ARN strings for the specified
                                 objects.
                              </p>
                              
                              <div class="itemizedlist">      
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>To log data events for all objects in all S3 buckets in your AWS account, specify
                                          the 
                                          prefix as <code class="code">arn:aws:s3:::</code>. 
                                       </p>
                                       
                                       <div class="aws-note">
                                          <p class="aws-note">Note</p>
                                          <p>This will also enable logging of data event activity performed by any user or role
                                             in your AWS account, 
                                             even if that activity is performed on a bucket that belongs to another AWS account.
                                             
                                          </p>
                                       </div>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>To log data events for all objects in an S3 bucket, specify the bucket and an empty
                                          object prefix such as <code class="code">arn:aws:s3:::bucket-1/</code>. The trail logs data events for
                                          all objects in this S3 bucket.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>To log data events for specific objects, specify the S3 bucket and object prefix such
                                          as <code class="code">arn:aws:s3:::bucket-1/example-images</code>. The trail logs data events for
                                          objects in this S3 bucket that match the prefix.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>To log data events for all functions in your AWS account, specify the prefix as
                                          <code class="code">arn:aws:lambda</code>.
                                       </p>
                                       
                                       <div class="aws-note">
                                          <p class="aws-note">Note</p>
                                          <p>This will also enable logging of <code class="code">Invoke</code> activity performed by any user or role in your AWS account, 
                                             even if that activity is performed on a function that belongs to another AWS account.
                                             
                                          </p>
                                       </div>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p>To log data events for a specific Lambda function, specify the function ARN.</p>
                                       
                                       <div class="aws-note">
                                          <p class="aws-note">Note</p>
                                          <p>Lambda function ARNs are exact. For example, if you specify a 
                                             function ARN <em>arn:aws:lambda:us-west-2:111111111111:function:helloworld</em>, data events will
                                             only be logged for <em>arn:aws:lambda:us-west-2:111111111111:function:helloworld</em>. They will
                                             not be logged for <em>arn:aws:lambda:us-west-2:111111111111:function:helloworld2</em>.
                                          </p>
                                       </div> 
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-cloudtrail-trail.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-properties-cloudtrail-trail-eventselector.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-properties-cloudtrail-trail-dataresource-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#aws-properties-cloudtrail-trail-dataresource-properties">Properties</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>