<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::ApiGatewayV2::Authorizer - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="AWS_ApiGatewayV2.html" title="Amazon API Gateway V2 Resource Type Reference">
      <link rel="prev" href="aws-resource-apigatewayv2-apimapping.html" title="AWS::ApiGatewayV2::ApiMapping">
      <link rel="next" href="aws-resource-apigatewayv2-deployment.html" title="AWS::ApiGatewayV2::Deployment">
      <meta name="description" content="The AWS::ApiGatewayV2::Authorizer resource updates a Lambda authorizer function. For more information about Lambda authorizer functions for WebSocket APIs, see Create a Lambda REQUEST Authorizer Function in the API Gateway Developer Guide.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json;toc-AWS_ApiGatewayV2.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-authorizer.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudformation/index.html">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="AWS_ApiGatewayV2.html">Amazon API Gateway V2 Resource Type Reference</a> &#xBB; <span class="breadcrumb">AWS::ApiGatewayV2::Authorizer</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-apigatewayv2-authorizer">AWS::ApiGatewayV2::Authorizer</h1>
                     <p>The <code class="code">AWS::ApiGatewayV2::Authorizer</code> resource updates a Lambda
                        authorizer function. For more information about Lambda authorizer functions for
                        WebSocket APIs, see <a href="./apigateway/latest/developerguide/apigateway-websocket-api-lambda-auth.html">Create a Lambda REQUEST Authorizer Function</a> in the <em>API
                           Gateway Developer Guide</em>.
                     </p>
                     <h2 id="aws-resource-apigatewayv2-authorizer-syntax">Syntax</h2>
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-apigatewayv2-authorizer-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;Type&quot; : &quot;AWS::ApiGatewayV2::Authorizer&quot;,
  &quot;Properties&quot; : {
      &quot;<a href="#cfn-apigatewayv2-authorizer-apiid">ApiId</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizercredentialsarn">AuthorizerCredentialsArn</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizerresultttlinseconds">AuthorizerResultTtlInSeconds</a>&quot; : <em class="replaceable"><code>Integer</code></em>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizertype">AuthorizerType</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizeruri">AuthorizerUri</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-identitysource">IdentitySource</a>&quot; : <em class="replaceable"><code>[ String, ... ]</code></em>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-identityvalidationexpression">IdentityValidationExpression</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-name">Name</a>&quot; : <em class="replaceable"><code>String</code></em>
    }
}
</code></pre></div>
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-apigatewayv2-authorizer-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: AWS::ApiGatewayV2::Authorizer
Properties: 
  <a href="#cfn-apigatewayv2-authorizer-apiid">ApiId</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-apigatewayv2-authorizer-authorizercredentialsarn">AuthorizerCredentialsArn</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-apigatewayv2-authorizer-authorizerresultttlinseconds">AuthorizerResultTtlInSeconds</a>: <em class="replaceable"><code>Integer</code></em>
  <a href="#cfn-apigatewayv2-authorizer-authorizertype">AuthorizerType</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-apigatewayv2-authorizer-authorizeruri">AuthorizerUri</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-apigatewayv2-authorizer-identitysource">IdentitySource</a>: <em class="replaceable"><code>
    - String</code></em>
  <a href="#cfn-apigatewayv2-authorizer-identityvalidationexpression">IdentityValidationExpression</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-apigatewayv2-authorizer-name">Name</a>: <em class="replaceable"><code>String</code></em>
</code></pre></div>
                     <h2 id="aws-resource-apigatewayv2-authorizer-properties">Properties</h2>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="cfn-apigatewayv2-authorizer-apiid"></a><span class="term"><code class="code">ApiId</code></span></dt>
                           <dd>
                              
                              
                              <p>The API identifier.</p>
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-apigatewayv2-authorizer-authorizercredentialsarn"></a><span class="term"><code class="code">AuthorizerCredentialsArn</code></span></dt>
                           <dd>
                              
                              
                              <p>Specifies the required credentials as an IAM role for API Gateway to invoke the authorizer.
                                 To specify an IAM role for API Gateway to assume, use the role&apos;s Amazon Resource Name
                                 (ARN). To use resource-based permissions on the Lambda function, specify null.
                              </p>
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-apigatewayv2-authorizer-authorizerresultttlinseconds"></a><span class="term"><code class="code">AuthorizerResultTtlInSeconds</code></span></dt>
                           <dd>
                              
                              
                              <p>The time to live (TTL), in seconds, of cached authorizer results. If it is zero, authorization
                                 caching is disabled. If it is greater than zero, API Gateway will cache authorizer
                                 responses. If this field is not set, the default value is 300. The maximum value is
                                 3600, or 1 hour.
                              </p>
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: Integer
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-apigatewayv2-authorizer-authorizertype"></a><span class="term"><code class="code">AuthorizerType</code></span></dt>
                           <dd>
                              
                              
                              <p>The authorizer type. Currently the only valid value is <code class="code">REQUEST</code>, for a Lambda function using incoming request parameters.
                              </p>
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-apigatewayv2-authorizer-authorizeruri"></a><span class="term"><code class="code">AuthorizerUri</code></span></dt>
                           <dd>
                              
                              
                              <p>The authorizer&apos;s Uniform Resource Identifier (URI). For <code class="code">REQUEST</code>
                                 authorizers, this must be a well-formed Lambda function URI, for example,
                                 <code class="code">arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:<em>{account_id}</em>:function:<em>{lambda_function_name}</em>/invocations</code>.
                                 In general, the URI has this form:
                                 <code class="code">arn:aws:apigateway:<em>{region}</em>:lambda:path/<em>{service_api}</em>
                                    </code>, where <em>{region}</em> is the same as the region hosting the
                                 Lambda function, path indicates that the remaining substring in the URI should be
                                 treated as the path to the resource, including the initial <code class="code">/</code>. For
                                 Lambda functions, this is usually of the form
                                 <code class="code">/2015-03-31/functions/[FunctionARN]/invocations</code>.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-apigatewayv2-authorizer-identitysource"></a><span class="term"><code class="code">IdentitySource</code></span></dt>
                           <dd>
                              
                              
                              
                              
                              <p>The identity source for which authorization is requested.</p>
                              <p>For the <code class="code">REQUEST</code> authorizer, this is required when authorization caching is enabled. The value is
                                 a comma-separated string of one or more mapping expressions of the specified request
                                 parameters. For example, if an Auth header, a Name query string parameter are defined
                                 as identity sources, this value is <code class="code">$method.request.header.Auth, $method.request.querystring.Name</code>. These parameters will be used to derive the authorization caching key and to perform
                                 runtime validation of the <code class="code">REQUEST</code> authorizer by verifying all of the identity-related request parameters are present,
                                 not null and non-empty. Only when this is true does the authorizer invoke the authorizer
                                 Lambda function, otherwise, it returns a <code class="code">401 Unauthorized</code> response without calling the Lambda function. The valid value is a string of comma-separated
                                 mapping expressions of the specified request parameters. When the authorization caching
                                 is not enabled, this property is
                                 optional.
                              </p>
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: List of String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-apigatewayv2-authorizer-identityvalidationexpression"></a><span class="term"><code class="code">IdentityValidationExpression</code></span></dt>
                           <dd>
                              
                              
                              <p>The validation expression does not apply to the <code class="code">REQUEST</code> authorizer.
                              </p>
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-apigatewayv2-authorizer-name"></a><span class="term"><code class="code">Name</code></span></dt>
                           <dd>
                              
                              
                              <p>The name of the authorizer.</p>
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div>
                     <h2 id="aws-resource-apigatewayv2-authorizer-return-values">Return Values</h2>
                     <h3 id="aws-resource-apigatewayv2-authorizer-return-values-ref">Ref</h3>
                     <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the authorizer&apos;s ID, such as
                        <code class="code">abcde1</code>.
                     </p>
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="./AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     <h2 id="aws-resource-apigatewayv2-authorizer--examples">Examples</h2>
                     <h3 id="aws-resource-apigatewayv2-authorizer--examples--Authorizer_creation_example">Authorizer creation example</h3>
                     <p>The following example creates a Lambda <code class="code">authorizer</code>
                        resource for the <code class="code">MyApi</code> API.
                     </p>
                     <h4 id="aws-resource-apigatewayv2-authorizer--examples--Authorizer_creation_example--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    &quot;Authorizer&quot;: {
        &quot;Type&quot;: &quot;AWS::ApiGatewayV2::Authorizer&quot;,
        &quot;Properties&quot;: {
            &quot;Name&quot;: &quot;LambdaAuthorizer&quot;,
            &quot;ApiId&quot;: {
                &quot;Ref&quot;: &quot;MyApi&quot;
            },
            &quot;AuthorizerType&quot;: &quot;REQUEST&quot;,
            &quot;AuthorizerCredentialsArn&quot;: &quot;Arn&quot;,
            &quot;AuthorizerUri&quot;: {
                &quot;Fn::Join&quot;: [
                    &quot;&quot;,
                    [
                        &quot;arn:&quot;,
                        {
                            &quot;Ref&quot;: &quot;AWS::Partition&quot;
                        },
                        &quot;:apigateway:&quot;,
                        {
                            &quot;Ref&quot;: &quot;AWS::Region&quot;
                        },
                        &quot;:lambda:path/2015-03-31/functions/&quot;,
                        &quot;/invocations&quot;
                    ]
                ]
            },
            &quot;AuthorizerResultTtlInSeconds&quot;: 500,
            &quot;IdentitySource&quot;: [
                &quot;route.request.header.Auth&quot;
            ]
        }
    }
}</code></pre><h4 id="aws-resource-apigatewayv2-authorizer--examples--Authorizer_creation_example--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Authorizer:
  Type: &apos;AWS::ApiGatewayV2::Authorizer&apos;
  Properties:
    Name: LambdaAuthorizer
    ApiId: !Ref MyApi
    AuthorizerType: REQUEST
    AuthorizerCredentialsArn: Arn
    AuthorizerUri: !Join 
      - &apos;&apos;
      - - &apos;arn:&apos;
        - !Ref &apos;AWS::Partition&apos;
        - &apos;:apigateway:&apos;
        - !Ref &apos;AWS::Region&apos;
        - &apos;:lambda:path/2015-03-31/functions/&apos;
        - /invocations
    AuthorizerResultTtlInSeconds: 500
    IdentitySource:
      - route.request.header.Auth</code></pre><h2 id="aws-resource-apigatewayv2-authorizer--seealso">See Also</h2>
                     <div class="itemizedlist">
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./apigatewayv2/latest/api-reference/apis-apiid-authorizers.html#CreateAuthorizer">CreateAuthorizer</a> in the <em>Amazon API
                                    Gateway Version 2 API Reference</em></p>
                              
                           </li>
                        </ul>
                     </div>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-apigatewayv2-apimapping.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-resource-apigatewayv2-deployment.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-apigatewayv2-authorizer-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#aws-resource-apigatewayv2-authorizer-properties">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#aws-resource-apigatewayv2-authorizer-return-values">Return Values</a></li>
                        <li class="pagetoc" name="Examples"><a class="pagetoc" href="#aws-resource-apigatewayv2-authorizer--examples">Examples</a></li>
                        <li class="pagetoc" name="See Also"><a class="pagetoc" href="#aws-resource-apigatewayv2-authorizer--seealso">See Also</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>