<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::EC2::VPC - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="AWS_EC2.html" title="EC2 Resource Type Reference">
      <link rel="prev" href="aws-resource-ec2-transitgatewayroutetablepropagation.html" title="AWS::EC2::TransitGatewayRouteTablePropagation">
      <link rel="next" href="aws-resource-ec2-vpccidrblock.html" title="AWS::EC2::VPCCidrBlock">
      <meta name="description" content="Specifies a VPC with the specified IPv4 CIDR block. The smallest VPC you can create uses a /28 netmask (16 IPv4 addresses), and the largest uses a /16 netmask (65,536 IPv4 addresses). For more information about how large to make your VPC, see Your VPC and Subnets in the Amazon Virtual Private Cloud User Guide.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json;toc-AWS_EC2.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudformation/index.html">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="AWS_EC2.html">EC2 Resource Type Reference</a> &#xBB; <span class="breadcrumb">AWS::EC2::VPC</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-ec2-vpc">AWS::EC2::VPC</h1>
                     <p>Specifies a VPC with the specified IPv4 CIDR block. The smallest VPC you can create
                        			uses a /28 netmask (16 IPv4 addresses), and the largest uses a /16 netmask (65,536
                        IPv4
                        			addresses). For more information about how large to make your VPC, see <a href="./AmazonVPC/latest/UserGuide/VPC_Subnets.html">Your VPC and
                           		   Subnets</a> in the <em>Amazon Virtual Private Cloud User Guide</em>.
                     </p>
                     <h2 id="aws-resource-ec2-vpc-syntax">Syntax</h2>
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-ec2-vpc-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;Type&quot; : &quot;AWS::EC2::VPC&quot;,
  &quot;Properties&quot; : {
      &quot;<a href="#cfn-aws-ec2-vpc-cidrblock">CidrBlock</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-aws-ec2-vpc-EnableDnsHostnames">EnableDnsHostnames</a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
      &quot;<a href="#cfn-aws-ec2-vpc-EnableDnsSupport">EnableDnsSupport</a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
      &quot;<a href="#cfn-aws-ec2-vpc-instancetenancy">InstanceTenancy</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-aws-ec2-vpc-tags">Tags</a>&quot; : <em class="replaceable"><code>[ <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a>, ... ]</code></em>
    }
}
</code></pre></div>
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-ec2-vpc-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: AWS::EC2::VPC
Properties: 
  <a href="#cfn-aws-ec2-vpc-cidrblock">CidrBlock</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-aws-ec2-vpc-EnableDnsHostnames">EnableDnsHostnames</a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="#cfn-aws-ec2-vpc-EnableDnsSupport">EnableDnsSupport</a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="#cfn-aws-ec2-vpc-instancetenancy">InstanceTenancy</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-aws-ec2-vpc-tags">Tags</a>: <em class="replaceable"><code>
    - <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a></code></em>
</code></pre></div>
                     <h2 id="aws-resource-ec2-vpc-properties">Properties</h2>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="cfn-aws-ec2-vpc-cidrblock"></a><span class="term"><code class="code">CidrBlock</code></span></dt>
                           <dd>
                              		       
                              <p>The primary IPv4 CIDR block for the VPC.</p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-aws-ec2-vpc-EnableDnsHostnames"></a><span class="term"><code class="code">EnableDnsHostnames</code></span></dt>
                           <dd>
                              
                              <p>Indicates whether the instances launched in the VPC get DNS hostnames. If enabled,
                                 instances in the VPC get DNS hostnames; otherwise, they do not.
                              </p>
                              
                              <p>You can only enable DNS hostnames if you&apos;ve enabled DNS support.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: Boolean
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-aws-ec2-vpc-EnableDnsSupport"></a><span class="term"><code class="code">EnableDnsSupport</code></span></dt>
                           <dd>
                              		
                              <p>Indicates whether the DNS resolution is supported for the VPC. If enabled, queries
                                 to
                                 			the Amazon provided DNS server at the 169.254.169.253 IP address, or the reserved
                                 IP
                                 			address at the base of the VPC network range &quot;plus two&quot; succeed. If disabled, the
                                 Amazon
                                 			provided DNS service in the VPC that resolves public DNS hostnames to IP addresses
                                 is
                                 			not enabled.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: Boolean
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-aws-ec2-vpc-instancetenancy"></a><span class="term"><code class="code">InstanceTenancy</code></span></dt>
                           <dd>
                              
                              <p>The allowed tenancy of instances launched into the VPC. </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p><code class="code">&quot;default&quot;</code>: Instances can be launched with any tenancy.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><code class="code">&quot;dedicated&quot;</code>: Any instance launched into the VPC automatically 
                                          has dedicated tenancy, unless you launch it with the default tenancy.
                                       </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>Updating <code class="code">InstanceTenancy</code> requires no replacement only if you are updating its value from <code class="code">&quot;dedicated&quot;</code> to <code class="code">&quot;default&quot;</code>. 
                                 Updating <code class="code">InstanceTenancy</code> from <code class="code">&quot;default&quot;</code> to <code class="code">&quot;dedicated&quot;</code> requires replacement.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Allowed Values</em>: <code class="code">dedicated | default | host</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-aws-ec2-vpc-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                           <dd>
                              	   
                              <p>The tags for the VPC.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div>
                     <h2 id="aws-resource-ec2-vpc-return-values">Return Values</h2>
                     <h3 id="aws-resource-ec2-vpc-return-values-ref">Ref</h3>
                     <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the ID of the VPC.
                     </p>
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="./AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     <h3 id="aws-resource-ec2-vpc-return-values-fn--getatt">Fn::GetAtt</h3>
                     <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                        are the available attributes and sample return values.
                     </p> 
                     
                     <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="./AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                     </p>
                     <h4 id="aws-resource-ec2-vpc-return-values-fn--getatt-fn--getatt"></h4>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="CidrBlock-fn::getatt"></a><span class="term"><code class="code">CidrBlock</code></span></dt>
                           <dd>
                              
                              <p>The set of IP addresses for the VPC. For example,
                                 <code class="code">10.0.0.0/16</code>.
                              </p>
                              
                           </dd>
                           <dt><a id="CidrBlockAssociations-fn::getatt"></a><span class="term"><code class="code">CidrBlockAssociations</code></span></dt>
                           <dd>
                              
                              <p>A list of IPv4 CIDR block association IDs for the VPC. For example,
                                 <code class="code">[ vpc-cidr-assoc-0280ab6b ]</code>.
                              </p>
                              
                           </dd>
                           <dt><a id="DefaultNetworkAcl-fn::getatt"></a><span class="term"><code class="code">DefaultNetworkAcl</code></span></dt>
                           <dd>
                              
                              <p>The default network ACL ID that is associated with the VPC. For example,
                                 <code class="code">acl-814dafe3</code>.
                              </p>
                              
                           </dd>
                           <dt><a id="DefaultSecurityGroup-fn::getatt"></a><span class="term"><code class="code">DefaultSecurityGroup</code></span></dt>
                           <dd>
                              
                              <p>The default security group ID that is associated with the VPC. For example,
                                 <code class="code">sg-b178e0d3</code>.
                              </p>
                              
                           </dd>
                           <dt><a id="Ipv6CidrBlocks-fn::getatt"></a><span class="term"><code class="code">Ipv6CidrBlocks</code></span></dt>
                           <dd>
                              
                              <p>A list of IPv6 CIDR blocks that are associated with the VPC, such as <code class="code">[
                                    2001:db8:1234:1a00::/56 ]</code>.
                              </p>
                              
                           </dd>
                        </dl>
                     </div>
                     <h2 id="aws-resource-ec2-vpc--examples">Examples</h2>
                     <h3 id="aws-resource-ec2-vpc--examples--VPC">VPC</h3>
                     <p>The following example specifies a VPC.</p>
                     <h4 id="aws-resource-ec2-vpc--examples--VPC--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">
&quot;myVPC&quot; : {
   &quot;Type&quot; : &quot;AWS::EC2::VPC&quot;,
   &quot;Properties&quot; : {
      &quot;CidrBlock&quot; : &quot;10.0.0.0/16&quot;,
      &quot;EnableDnsSupport&quot; : &quot;false&quot;,
      &quot;EnableDnsHostnames&quot; : &quot;false&quot;,
      &quot;InstanceTenancy&quot; : &quot;dedicated&quot;,
      &quot;Tags&quot; : [ {&quot;Key&quot; : &quot;foo&quot;, &quot;Value&quot; : &quot;bar&quot;} ]
   }
}</code></pre><h4 id="aws-resource-ec2-vpc--examples--VPC--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">myVPC:
  Type: AWS::EC2::VPC
  Properties:
    CidrBlock: 10.0.0.0/16
    EnableDnsSupport: &apos;false&apos;
    EnableDnsHostnames: &apos;false&apos;
    InstanceTenancy: dedicated
    Tags:
     - Key: foo
       Value: bar</code></pre><h2 id="aws-resource-ec2-vpc--seealso">See Also</h2>
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>
                                 <a href="./AWSEC2/latest/APIReference/API_CreateVpc.html">CreateVpc</a> in the <em>Amazon EC2 API Reference</em></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>
                                 <a href="./vpc/latest/userguide/VPC_Subnets.html">Your VPC and Subnets</a>
                                 in the <em>Amazon Virtual Private Cloud User Guide</em></p>
                              
                           </li>
                        </ul>
                     </div>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-ec2-transitgatewayroutetablepropagation.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-resource-ec2-vpccidrblock.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-ec2-vpc-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#aws-resource-ec2-vpc-properties">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#aws-resource-ec2-vpc-return-values">Return Values</a></li>
                        <li class="pagetoc" name="Examples"><a class="pagetoc" href="#aws-resource-ec2-vpc--examples">Examples</a></li>
                        <li class="pagetoc" name="See Also"><a class="pagetoc" href="#aws-resource-ec2-vpc--seealso">See Also</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>