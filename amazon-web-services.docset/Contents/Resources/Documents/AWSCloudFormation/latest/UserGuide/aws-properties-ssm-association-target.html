<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::SSM::Document - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="AWS_SSM.html" title="AWS Systems Manager Resource Type Reference">
      <link rel="prev" href="aws-properties-ssm-association-target.html" title="AWS::SSM::Association Target">
      <link rel="next" href="aws-resource-ssm-maintenancewindow.html" title="AWS::SSM::MaintenanceWindow">
      <meta name="description" content="The AWS::SSM::Document resource creates an SSM document in AWS Systems Manager that defines the actions that Systems Manager performs, which you can use to set up and run commands on your instances.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json;toc-AWS_SSM.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ssm-document.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudformation/index.html">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="AWS_SSM.html">AWS Systems Manager Resource Type Reference</a> &#xBB; <span class="breadcrumb">AWS::SSM::Document</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-ssm-document">AWS::SSM::Document</h1>
                     <p>The <code class="code">AWS::SSM::Document</code> resource creates an SSM document in AWS Systems
                        Manager that defines the actions that Systems Manager performs, which you can use
                        to set up
                        and run commands on your instances.
                     </p>
                     <h2 id="aws-resource-ssm-document-syntax">Syntax</h2>
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-ssm-document-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;Type&quot; : &quot;AWS::SSM::Document&quot;,
  &quot;Properties&quot; : {
      &quot;<a href="#cfn-ssm-document-content">Content</a>&quot; : <em class="replaceable"><code>Json</code></em>,
      &quot;<a href="#cfn-ssm-document-documenttype">DocumentType</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-ssm-document-tags">Tags</a>&quot; : <em class="replaceable"><code>[ <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a>, ... ]</code></em>
    }
}
</code></pre></div>
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-ssm-document-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: AWS::SSM::Document
Properties: 
  <a href="#cfn-ssm-document-content">Content</a>: <em class="replaceable"><code>Json</code></em>
  <a href="#cfn-ssm-document-documenttype">DocumentType</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-ssm-document-tags">Tags</a>: <em class="replaceable"><code>
    - <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a></code></em>
</code></pre></div>
                     <h2 id="aws-resource-ssm-document-properties">Properties</h2>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="cfn-ssm-document-content"></a><span class="term"><code class="code">Content</code></span></dt>
                           <dd>
                              
                              
                              <p>A valid JSON or YAML string.</p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: Json
                              </p>
                              <p><em>Minimum</em>: <code class="code">1</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-ssm-document-documenttype"></a><span class="term"><code class="code">DocumentType</code></span></dt>
                           <dd>
                              
                              
                              <p>The type of document to create. Valid document types include: <code class="code">Command</code>,
                                 <code class="code">Policy</code>, <code class="code">Automation</code>, <code class="code">Session</code>, and
                                 <code class="code">Package</code>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Allowed Values</em>: <code class="code">Automation | Command | Package | Policy | Session</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-ssm-document-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                           <dd>
                              
                              <p>AWS CloudFormation resource tags to apply to the document. Use tags to help you
                                 identify and categorize resources. 
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a></p>
                              <p><em>Maximum</em>: <code class="code">1000</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div>
                     <h2 id="aws-resource-ssm-document-return-values">Return Values</h2>
                     <h3 id="aws-resource-ssm-document-return-values-ref">Ref</h3>
                     <p>
                        When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the Systems Manager document name, such as
                        <code class="code">ssm-myinstanceconfig-ABCNPH3XCAO6</code>.
                     </p>
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="./AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     <h2 id="aws-resource-ssm-document--examples">Examples</h2>
                     <h3 id="aws-resource-ssm-document--examples--Join_a_managed_instance_to_a_directory_in_AWS_Directory_Service">Join a managed instance to a directory in AWS Directory Service</h3>
                     <p>The following Systems Manager document joins instances to a directory in AWS
                        Directory Service. The three runtime configuration parameters specify which directory
                        the instance joins. You specify these parameter values when you associate the
                        document with an instance.
                     </p>
                     <h4 id="aws-resource-ssm-document--examples--Join_a_managed_instance_to_a_directory_in_AWS_Directory_Service--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">&quot;document&quot; : {
  &quot;Type&quot; : &quot;AWS::SSM::Document&quot;,
  &quot;Properties&quot; : {
    &quot;Content&quot; : {
      &quot;schemaVersion&quot;:&quot;1.2&quot;,
      &quot;description&quot;:&quot;Join instances to an AWS Directory Service domain.&quot;,
      &quot;parameters&quot;:{
        &quot;directoryId&quot;:{
          &quot;type&quot;:&quot;String&quot;,
          &quot;description&quot;:&quot;(Required) The ID of the AWS Directory Service directory.&quot;
        },
        &quot;directoryName&quot;:{
          &quot;type&quot;:&quot;String&quot;,
          &quot;description&quot;:&quot;(Required) The name of the directory; for example, test.example.com&quot;
        },
        &quot;dnsIpAddresses&quot;:{
          &quot;type&quot;:&quot;StringList&quot;,
          &quot;default&quot;:[
          ],
          &quot;description&quot;:&quot;(Optional) The IP addresses of the DNS servers in the directory. Required when DHCP is not configured. Learn more at http://docs.aws.amazon.com/directoryservice/latest/simple-ad/join_get_dns_addresses.html&quot;,
          &quot;allowedPattern&quot;:&quot;((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)&quot;
        }
      },
      &quot;runtimeConfig&quot;:{
        &quot;aws:domainJoin&quot;:{
          &quot;properties&quot;:{
            &quot;directoryId&quot;:&quot;{{ directoryId }}&quot;,
            &quot;directoryName&quot;:&quot;{{ directoryName }}&quot;,
            &quot;dnsIpAddresses&quot;:&quot;{{ dnsIpAddresses }}&quot;
          }
        }
      }
    }
  }
}</code></pre><h4 id="aws-resource-ssm-document--examples--Join_a_managed_instance_to_a_directory_in_AWS_Directory_Service--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">document: 
  Type: &quot;AWS::SSM::Document&quot;
  Properties: 
    Content: 
      schemaVersion: &quot;1.2&quot;
      description: &quot;Join instances to an AWS Directory Service domain.&quot;
      parameters: 
        directoryId: 
          type: &quot;String&quot;
          description: &quot;(Required) The ID of the AWS Directory Service directory.&quot;
        directoryName: 
          type: &quot;String&quot;
          description: &quot;(Required) The name of the directory; for example, test.example.com&quot;
        dnsIpAddresses: 
          type: &quot;StringList&quot;
          default: []
          description: &quot;(Optional) The IP addresses of the DNS servers in the directory. Required when DHCP is not configured. Learn more at http://docs.aws.amazon.com/directoryservice/latest/simple-ad/join_get_dns_addresses.html&quot;
          allowedPattern: &quot;((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)&quot;
      runtimeConfig: 
        aws:domainJoin: 
          properties: 
            directoryId: &quot;{{ directoryId }}&quot;
            directoryName: &quot;{{ directoryName }}&quot;
            dnsIpAddresses: &quot;{{ dnsIpAddresses }}&quot;</code></pre><h3 id="aws-resource-ssm-document--examples--Associate_the_Systems_Manager_document_with_an_instance">Associate the Systems Manager document with an instance</h3>
                     <p>The following example shows how to associate the SSM document with an instance.
                        The <code class="code">DocumentName</code> property specifies the SSM document and the
                        <code class="code">AssociationParameters</code> property specifies values for the runtime
                        configuration parameters.
                     </p>
                     <h4 id="aws-resource-ssm-document--examples--Associate_the_Systems_Manager_document_with_an_instance--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">&quot;myEC2&quot; : {
  &quot;Type&quot; : &quot;AWS::EC2::Instance&quot;,
  &quot;Properties&quot; : {
    &quot;ImageId&quot; : {&quot;Ref&quot; : &quot;myImageId&quot;},
    &quot;InstanceType&quot; : &quot;t2.micro&quot;,
    &quot;SsmAssociations&quot; : [ {
      &quot;DocumentName&quot; : {&quot;Ref&quot; : &quot;document&quot;},
      &quot;AssociationParameters&quot; : [
        { &quot;Key&quot; : &quot;directoryId&quot;, &quot;Value&quot; : [ { &quot;Ref&quot; : &quot;myDirectory&quot; } ] },
        { &quot;Key&quot; : &quot;directoryName&quot;, &quot;Value&quot; : [&quot;testDirectory.example.com&quot;] },
        { &quot;Key&quot; : &quot;dnsIpAddresses&quot;, &quot;Value&quot; : { &quot;Fn::GetAtt&quot; : [&quot;myDirectory&quot;, &quot;DnsIpAddresses&quot;] } }
      ]
    } ],
    &quot;IamInstanceProfile&quot; : {&quot;Ref&quot; : &quot;myInstanceProfile&quot;},
    &quot;NetworkInterfaces&quot; : [ {
      &quot;DeviceIndex&quot; : &quot;0&quot;,
      &quot;AssociatePublicIpAddress&quot; : &quot;true&quot;,
      &quot;SubnetId&quot; : {&quot;Ref&quot; : &quot;mySubnet&quot;}
    } ],
    &quot;KeyName&quot; : {&quot;Ref&quot; : &quot;myKeyName&quot;}
  }
}</code></pre><h4 id="aws-resource-ssm-document--examples--Associate_the_Systems_Manager_document_with_an_instance--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">myEC2: 
  Type: &quot;AWS::EC2::Instance&quot;
  Properties: 
    ImageId: 
      Ref: &quot;myImageId&quot;
    InstanceType: &quot;t2.micro&quot;
    SsmAssociations: 
      - 
        DocumentName: 
          Ref: &quot;document&quot;
        AssociationParameters: 
          - 
            Key: &quot;directoryId&quot;
            Value: 
              - 
                Ref: &quot;myDirectory&quot;
          - 
            Key: &quot;directoryName&quot;
            Value: 
              - &quot;testDirectory.example.com&quot;
          - 
            Key: &quot;dnsIpAddresses&quot;
            Value: 
              Fn::GetAtt: 
                - &quot;myDirectory&quot;
                - &quot;DnsIpAddresses&quot;
    IamInstanceProfile: 
      Ref: &quot;myInstanceProfile&quot;
    NetworkInterfaces: 
      - 
        DeviceIndex: &quot;0&quot;
        AssociatePublicIpAddress: &quot;true&quot;
        SubnetId: 
          Ref: &quot;mySubnet&quot;
    KeyName: 
      Ref: &quot;myKeyName&quot;</code></pre><h2 id="aws-resource-ssm-document--seealso">See Also</h2>
                     <div class="itemizedlist">
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>
                                 <a href="./systems-manager/latest/userguide/sysman-ssm-docs.html">AWS Systems Manager
                                    Documents</a>
                                 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-properties-ssm-association-target.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-resource-ssm-maintenancewindow.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-ssm-document-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#aws-resource-ssm-document-properties">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#aws-resource-ssm-document-return-values">Return Values</a></li>
                        <li class="pagetoc" name="Examples"><a class="pagetoc" href="#aws-resource-ssm-document--examples">Examples</a></li>
                        <li class="pagetoc" name="See Also"><a class="pagetoc" href="#aws-resource-ssm-document--seealso">See Also</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>