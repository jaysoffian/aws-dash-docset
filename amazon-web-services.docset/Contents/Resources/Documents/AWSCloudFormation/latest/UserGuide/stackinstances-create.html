<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Add Stacks to a Stack Set - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="stacksets-getting-started.html" title="Getting Started with AWS CloudFormation StackSets">
      <link rel="prev" href="stacksets-update.html" title="Update Your Stack Set">
      <link rel="next" href="stackinstances-override.html" title="Override Parameters on Stack Instances">
      <meta name="description" content="When you create a stack set, you can create the stacks for that stack set. AWS CloudFormation also enables you to add more stacks, for additional accounts and regions, at any point after the stack set is created. You can add stack instances using either the AWS CloudFormation console, or by using AWS CloudFormation commands in the AWS CLI. In this procedure, we will add stack instances for an additional region to the stack set we created in">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-create.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudformation/index.html">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="what-is-cfnstacksets.html">Working with AWS CloudFormation StackSets</a> &#xBB; <a href="stacksets-getting-started.html">Getting Started with AWS CloudFormation StackSets</a> &#xBB; <span class="breadcrumb">Add Stacks to a Stack Set</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="stackinstances-create">Add Stacks to a Stack Set</h1>
                     <p>When you create a stack set, you can create the stacks for that stack set. AWS CloudFormation
                        also
                        enables you to add more stacks, for additional accounts and regions, at any point
                        after
                        the stack set is created. You can add stack instances using either the AWS CloudFormation
                        console,
                        or by using AWS CloudFormation commands in the AWS CLI. In this procedure, we will
                        add stack
                        instances for an additional region to the stack set we created in <a href="stacksets-getting-started-create.html">Create a New Stack Set</a>.
                     </p>
                     <p class="title"><b>To add stacks to a stack set by using the AWS Management Console</b></p>
                     <ol>
                        <li>
                           <p>Open the AWS CloudFormation console at
                              <a href="https://console.aws.amazon.com/cloudformation/" target="_blank">https://console.aws.amazon.com/cloudformation</a>.
                           </p>
                        </li>
                        <li>
                           <p>From the navigation pane, choose <b>StackSets</b>. On the StackSets page,
                              select the stack set that you created in <a href="stacksets-getting-started-create.html">Create a New Stack Set</a>. In this walkthrough, we
                              created a stack set named <code class="code">my-awsconfig-stackset</code>.
                           </p>
                        </li>
                        <li>
                           
                           <p>With the stack set selected, choose <b>Add new stacks to
                                 StackSet</b> from the <b>Actions</b> menu.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/console-stacksets-action-add-stacks.png" alt="
                    Manage stacks in stack set page
                " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Set deployment options</b> page, provide the accounts and
                              regions into which you want to add stacks for your stack set. 
                           </p>
                           
                           <p>AWS CloudFormation will deploy stacks in the specified
                              accounts within the first region, then moves on to the next, and so on, as long
                              as a region&apos;s deployment failures do not exceed a specified failure
                              tolerance.
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p>For <b>Accounts</b>, choose <b>Deploy stacks in
                                       accounts</b>. Paste your target account numbers in the text
                                    box, separating multiple numbers with commas.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>For <b>Specify regions</b>, choose US West (N. California).
                                    You will be creating new stacks, in the US West (N. California) region,
                                    for the accounts you&apos;ve specified.
                                 </p>
                                 
                                 <p>If you add multiple regions, the order of the regions under <b>Specify
                                       regions</b> determines their deployment order.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>For <b>Deployment options</b>:  
                                 </p>
                                 
                                 <div class="itemizedlist">
                                    
                                    
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          <p>For <b>Maximum concurrent accounts</b>, keep the default values of <b>Number</b> and <b>1</b>.
                                          </p>
                                          <p>This means that
                                             AWS CloudFormation deploys your stack in only one account at one time.
                                          </p>
                                       </li>
                                       <li class="listitem">
                                          <p>For <b>Failure tolerance</b>, keep the defauls of <b>Number</b> and <b>0</b>.
                                          </p>
                                          
                                          <p>This means that a maximum of one stack deployment can
                                             fail in one of your specified regions before AWS CloudFormation stops deployment in
                                             the current region, and cancels deployment in remaining regions.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <p>Choose
                                    <b>Next</b>.
                                 </p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Specify Overrides</b> page, leave the property values as specified. You won&apos;t be overriding any property
                              values for the stacks you&apos;re going to create. Choose <b>Next</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Review</b> page, review your choices and your stack
                              set&apos;s properties. To make changes, choose <b>Edit</b> in the area
                              in which you want to change properties. Before you can create the new stacks, you
                              must fill the check box in the <b>Capabilities</b> area to
                              acknowledge that some of the resources that you are creating with the stack set
                              might require new IAM resources and permissions. For more information about
                              potentially required permissions, see <a href="./AWSCloudFormation/latest/UserGuide/using-iam-template.html#using-iam-capabilities">Acknowledging IAM Resources in AWS CloudFormation Templates</a> in this
                              guide. When you are are ready to create your stack instances, choose
                              <b>Submit</b>.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/console-create-stackset-review-capabilities.png" alt="
                    Acknowledge required capabilities
                " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>AWS CloudFormation starts creating your stack instances. View the progress and status
                              of the
                              creation of the stack instances in your stack set in the stack set details page
                              that opens when you choose <b>Submit</b>. When complete, your new
                              stack instances should be listed on the <b>Stack instances</b> tab.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/console-stackset-detail-operations.png" alt="
                    Operations tab of the StackSets details page
                " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                     </ol>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="stacksets-update.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="stackinstances-override.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>