<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::Transfer::User - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="AWS_Transfer.html" title="AWS Transfer for SFTP Resource Type Reference">
      <link rel="prev" href="aws-properties-transfer-server-identityproviderdetails.html" title="AWS::Transfer::Server IdentityProviderDetails">
      <link rel="next" href="aws-properties-transfer-user-sshpublickey.html" title="AWS::Transfer::User SshPublicKey">
      <meta name="description" content="Creates a user and associates them with an existing Secure File Transfer Protocol (SFTP) server. You can only create and associate users with SFTP servers that have the IdentityProviderType set to SERVICE_MANAGED. Using parameters for CreateUser, you can specify the user name, set the home directory, store the user&apos;s public key, and assign the user&apos;s AWS Identity and Access Management (IAM) role. You can also optionally add a scope-down policy, and assign metadata with tags that can be used to group and search for users.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json;toc-AWS_Transfer.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-transfer-user.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudformation/index.html">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="AWS_Transfer.html">AWS Transfer for SFTP Resource Type Reference</a> &#xBB; <span class="breadcrumb">AWS::Transfer::User</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-transfer-user">AWS::Transfer::User</h1>
                     <p>Creates a user and associates them with an existing Secure File Transfer Protocol
                        (SFTP)
                        server. You can only create and associate users with SFTP servers that have the <code class="code">IdentityProviderType</code>
                        set to <code class="code">SERVICE_MANAGED</code>. Using parameters for <code class="code">CreateUser</code>, you can specify the user name, set the
                        home directory, store the user&apos;s public key, and assign the user&apos;s AWS Identity and
                        Access
                        Management (IAM) role. You can also optionally add a scope-down policy, and assign
                        metadata
                        with tags that can be used to group and search for users.
                     </p>
                     <h2 id="aws-resource-transfer-user-syntax">Syntax</h2>
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-transfer-user-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;Type&quot; : &quot;AWS::Transfer::User&quot;,
  &quot;Properties&quot; : {
      &quot;<a href="#cfn-transfer-user-homedirectory">HomeDirectory</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-transfer-user-policy">Policy</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-transfer-user-role">Role</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-transfer-user-serverid">ServerId</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-transfer-user-sshpublickeys">SshPublicKeys</a>&quot; : <em class="replaceable"><code>[ <a href="aws-properties-transfer-user-sshpublickey.html">SshPublicKey</a>, ... ]</code></em>,
      &quot;<a href="#cfn-transfer-user-tags">Tags</a>&quot; : <em class="replaceable"><code>[ <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a>, ... ]</code></em>,
      &quot;<a href="#cfn-transfer-user-username">UserName</a>&quot; : <em class="replaceable"><code>String</code></em>
    }
}
</code></pre></div>
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-transfer-user-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: AWS::Transfer::User
Properties: 
  <a href="#cfn-transfer-user-homedirectory">HomeDirectory</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-transfer-user-policy">Policy</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-transfer-user-role">Role</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-transfer-user-serverid">ServerId</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-transfer-user-sshpublickeys">SshPublicKeys</a>: <em class="replaceable"><code>
    - <a href="aws-properties-transfer-user-sshpublickey.html">SshPublicKey</a></code></em>
  <a href="#cfn-transfer-user-tags">Tags</a>: <em class="replaceable"><code>
    - <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a></code></em>
  <a href="#cfn-transfer-user-username">UserName</a>: <em class="replaceable"><code>String</code></em>
</code></pre></div>
                     <h2 id="aws-resource-transfer-user-properties">Properties</h2>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="cfn-transfer-user-homedirectory"></a><span class="term"><code class="code">HomeDirectory</code></span></dt>
                           <dd>
                              
                              <p>The landing directory (folder) for a user when they log in to the server using their
                                 SFTP
                                 client. An example is <code class="code">/home/<em>username</em>
                                    </code>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Maximum</em>: <code class="code">1024</code></p>
                              <p><em>Pattern</em>: <code class="code">^$|/.*</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-transfer-user-policy"></a><span class="term"><code class="code">Policy</code></span></dt>
                           <dd>
                              
                              <p>A scope-down policy for your user so you can use the same IAM role across multiple
                                 users.
                                 This policy scopes down user access to portions of their Amazon S3 bucket. Variables
                                 that you
                                 can use inside this policy include <code class="code">${Transfer:UserName}</code>,
                                 <code class="code">${Transfer:HomeDirectory}</code>, and <code class="code">${Transfer:HomeBucket}</code>.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>For scope-down policies, AWS Transfer for SFTP stores the policy as a JSON blob, instead
                                    of the Amazon Resource Name (ARN) of the policy. You save the policy as a JSON blob
                                    and pass
                                    it in the <code class="code">Policy</code> argument.
                                 </p>
                                 <p>For an example of a scope-down policy, see 
                                    <a href="./transfer/latest/userguide/users.html#users-policies-scope-down">Creating a Scope-Down Policy</a>.
                                 </p>
                                 <p>For more information, see <a href="./STS/latest/APIReference/API_AssumeRole.html">AssumeRole</a> 
                                    in the <em>AWS Security Token Service API Reference</em>.
                                 </p>
                              </div>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-transfer-user-role"></a><span class="term"><code class="code">Role</code></span></dt>
                           <dd>
                              
                              <p>The IAM role that controls your user&apos;s access to your Amazon S3 bucket. The policies
                                 attached to this role will determine the level of access you want to provide your
                                 users when
                                 transferring files into and out of your Amazon S3 bucket or buckets. The IAM role
                                 should also
                                 contain a trust relationship that allows the SFTP server to access your resources
                                 when
                                 servicing your SFTP user&apos;s transfer requests.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Pattern</em>: <code class="code">arn:.*role/.*</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-transfer-user-serverid"></a><span class="term"><code class="code">ServerId</code></span></dt>
                           <dd>
                              
                              <p>A system-assigned unique identifier for an SFTP server instance. This is the specific
                                 SFTP
                                 server that you added your user to.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Pattern</em>: <code class="code">^s-([0-9a-f]{17})$</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-transfer-user-sshpublickeys"></a><span class="term"><code class="code">SshPublicKeys</code></span></dt>
                           <dd>
                              
                              <p>This property contains the public key portion of the Secure Shell (SSH) keys stored
                                 for
                                 the described user.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of <a href="aws-properties-transfer-user-sshpublickey.html">SshPublicKey</a></p>
                              <p><em>Maximum</em>: <code class="code">5</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-transfer-user-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                           <dd>
                              
                              <p>Key-value pairs that can be used to group and search for users. Tags are metadata
                                 attached
                                 to users for any purpose.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of <a href="./AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html">Tag</a></p>
                              <p><em>Maximum</em>: <code class="code">50</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-transfer-user-username"></a><span class="term"><code class="code">UserName</code></span></dt>
                           <dd>
                              
                              <p>A unique string that identifies a user and is associated with a server as specified
                                 by the
                                 <code class="code">ServerId</code>. This user name must be a minimum of 3 and a maximum of 32 characters
                                 long. The following are valid characters: a-z, A-Z, 0-9, underscore, and hyphen. The
                                 user name
                                 can&apos;t start with a hyphen.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Pattern</em>: <code class="code">^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,31}$</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                        </dl>
                     </div>
                     <h2 id="aws-resource-transfer-user-return-values">Return Values</h2>
                     <h3 id="aws-resource-transfer-user-return-values-ref">Ref</h3>
                     <p> When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the username, such as <code class="code">sftp_user</code>.
                        
                     </p>
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="./AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     <h3 id="aws-resource-transfer-user-return-values-fn--getatt">Fn::GetAtt</h3>
                     <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                        are the available attributes and sample return values.
                     </p> 
                     
                     <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="./AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                     </p>
                     <h4 id="aws-resource-transfer-user-return-values-fn--getatt-fn--getatt"></h4>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="Arn-fn::getatt"></a><span class="term"><code class="code">Arn</code></span></dt>
                           <dd>
                              
                              <p>The Amazon Resource Name associated with the AWS Transfer SFTP user, in 
                                 the form <code class="code">arn:aws:transfer:region:<em>account-id</em>:user/<em>server-id</em>/<em>username</em></code>.
                              </p>
                              
                              <p>An example of a user ARN is: <code class="code">arn:aws:transfer:us-east-1:123456789012:user/user1</code>.
                              </p>
                              
                           </dd>
                           <dt><a id="ServerId-fn::getatt"></a><span class="term"><code class="code">ServerId</code></span></dt>
                           <dd>
                              
                              <p>The ID of the SFTP server to which the user is attached.</p>
                              
                              <p>An example <code class="code">ServerId</code> is <code class="code">s-01234567890abcdef</code>.
                              </p>
                              
                           </dd>
                           <dt><a id="UserName-fn::getatt"></a><span class="term"><code class="code">UserName</code></span></dt>
                           <dd>
                              
                              <p>A unique string that identifies a user account associated with an SFTP server.</p>
                              
                              <p>An example <code class="code">UserName</code> is <code class="code">sftp-user-1</code>.
                              </p>
                              
                           </dd>
                        </dl>
                     </div>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-properties-transfer-server-identityproviderdetails.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-properties-transfer-user-sshpublickey.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-transfer-user-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#aws-resource-transfer-user-properties">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#aws-resource-transfer-user-return-values">Return Values</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>