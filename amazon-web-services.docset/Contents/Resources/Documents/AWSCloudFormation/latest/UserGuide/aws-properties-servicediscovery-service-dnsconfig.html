<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::ServiceDiscovery::Service DnsConfig - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="aws-resource-servicediscovery-service.html" title="AWS::ServiceDiscovery::Service">
      <link rel="prev" href="aws-resource-servicediscovery-service.html" title="AWS::ServiceDiscovery::Service">
      <link rel="next" href="aws-properties-servicediscovery-service-dnsrecord.html" title="AWS::ServiceDiscovery::Service DnsRecord">
      <meta name="description" content="A complex type that contains information about the Amazon Route 53 DNS records that you want AWS Cloud Map to create when you register an instance.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json;toc-AWS_ServiceDiscovery.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/cloudformation/index.html">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="AWS_ServiceDiscovery.html">AWS Cloud Map Resource Type Reference</a> &#xBB; <a href="aws-resource-servicediscovery-service.html">AWS::ServiceDiscovery::Service</a> &#xBB; <span class="breadcrumb">AWS::ServiceDiscovery::Service DnsConfig</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-properties-servicediscovery-service-dnsconfig">AWS::ServiceDiscovery::Service DnsConfig</h1>
                     <p>A complex type that contains information about the Amazon Route 53 DNS records that
                        you want AWS Cloud Map to create when you register an instance.
                     </p>
                     <h2 id="aws-properties-servicediscovery-service-dnsconfig-syntax">Syntax</h2>
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-properties-servicediscovery-service-dnsconfig-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;<a href="#cfn-servicediscovery-service-dnsconfig-dnsrecords">DnsRecords</a>&quot; : <em class="replaceable"><code>[ <a href="aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a>, ... ]</code></em>,
  &quot;<a href="#cfn-servicediscovery-service-dnsconfig-namespaceid">NamespaceId</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="#cfn-servicediscovery-service-dnsconfig-routingpolicy">RoutingPolicy</a>&quot; : <em class="replaceable"><code>String</code></em>
}
</code></pre></div>
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-properties-servicediscovery-service-dnsconfig-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">  <a href="#cfn-servicediscovery-service-dnsconfig-dnsrecords">DnsRecords</a>: <em class="replaceable"><code>
    - <a href="aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a></code></em>
  <a href="#cfn-servicediscovery-service-dnsconfig-namespaceid">NamespaceId</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-servicediscovery-service-dnsconfig-routingpolicy">RoutingPolicy</a>: <em class="replaceable"><code>String</code></em>
</code></pre></div>
                     <h2 id="aws-properties-servicediscovery-service-dnsconfig-properties">Properties</h2>
                     <div class="variablelist">
                        <dl>
                           <dt><a id="cfn-servicediscovery-service-dnsconfig-dnsrecords"></a><span class="term"><code class="code">DnsRecords</code></span></dt>
                           <dd>
                              		       
                              <p>An array that contains one <code class="code">DnsRecord</code> object for each Route 53 DNS record that you want AWS Cloud Map to create 
                                 			when you register an instance.
                              </p>
                              	     
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: List of <a href="aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-servicediscovery-service-dnsconfig-namespaceid"></a><span class="term"><code class="code">NamespaceId</code></span></dt>
                           <dd>
                              		       
                              <p>The ID of the namespace to use for DNS configuration.</p>
                              	     
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Maximum</em>: <code class="code">64</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-servicediscovery-service-dnsconfig-routingpolicy"></a><span class="term"><code class="code">RoutingPolicy</code></span></dt>
                           <dd>
                              		       
                              <p>The routing policy that you want to apply to all Route 53 DNS records that AWS Cloud
                                 Map creates when you register an instance and 
                                 			specify this service.
                              </p>
                              			
                              			      
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If you want to use this service to register instances that create alias records, specify
                                    <code class="code">WEIGHTED</code> 
                                    					for the routing policy.
                                 </p>
                              </div>
                              		
                              		       
                              <p>You can specify the following values:</p>
                              		
                              		       
                              <p>
                                 <b>MULTIVALUE</b>
                                 
                              </p>
                              		       
                              <p>If you define a health check for the service and the health check is healthy, Route
                                 53 returns the applicable value for up to eight instances.
                              </p>
                              		       
                              <p>For example, suppose the service includes configurations for one A record and a health
                                 check, and you use the service to register 10 instances. 
                                 			Route 53 responds to DNS queries with IP addresses for up to eight healthy instances.
                                 If fewer than eight instances are healthy, Route 53 responds to 
                                 			every DNS query with the IP addresses for all of the healthy instances.
                              </p>
                              		       
                              <p>If you don&apos;t define a health check for the service, Route 53 assumes that all instances
                                 are healthy and returns the values for up to eight instances.
                              </p>
                              		       
                              <p>For more information about the multivalue routing policy, see 
                                 			<a href="./Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-multivalue">Multivalue Answer Routing</a> in the 
                                 			<em>Route 53 Developer Guide</em>.
                              </p>
                              		
                              		       
                              <p>
                                 <b>WEIGHTED</b>
                                 
                              </p>
                              		       
                              <p>Route 53 returns the applicable value from one randomly selected instance from among
                                 the instances that you registered using the same service. 
                                 			Currently, all records have the same weight, so you can&apos;t route more or less traffic
                                 to any instances.
                              </p>
                              		       
                              <p>For example, suppose the service includes configurations for one A record and a health
                                 check, and you use the service to register 10 instances. 
                                 			Route 53 responds to DNS queries with the IP address for one randomly selected
                                 instance from among the healthy instances. If no instances are healthy, 
                                 			Route 53 responds to DNS queries as if all of the instances were healthy.
                              </p>
                              		       
                              <p>If you don&apos;t define a health check for the service, Route 53 assumes that all instances
                                 are healthy and returns the applicable value for one 
                                 			randomly selected instance.
                              </p>
                              		       
                              <p>For more information about the weighted routing policy, see 
                                 			<a href="./Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-weighted">Weighted Routing</a> in the 
                                 			<em>Route 53 Developer Guide</em>.
                              </p>
                              
                              	     
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Allowed Values</em>: <code class="code">MULTIVALUE | WEIGHTED</code></p>
                              <p><em>Update requires</em>: <a href="./AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div>
                     <h2 id="aws-properties-servicediscovery-service-dnsconfig--seealso">See Also</h2>
                     <div class="itemizedlist">
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p>
                                 						<a href="./cloud-map/latest/api/API_DnsConfig.html">DnsConfig</a> 
                                 						in the <em>AWS Cloud Map API Reference</em>
                                 					
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-servicediscovery-service.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-properties-servicediscovery-service-dnsrecord.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-properties-servicediscovery-service-dnsconfig-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#aws-properties-servicediscovery-service-dnsconfig-properties">Properties</a></li>
                        <li class="pagetoc" name="See Also"><a class="pagetoc" href="#aws-properties-servicediscovery-service-dnsconfig--seealso">See Also</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>