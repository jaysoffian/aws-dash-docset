<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Working with Dedicated Hosts - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="dedicated-hosts-overview.html" title="Dedicated Hosts">
      <link rel="prev" href="dedicated-hosts-overview.html" title="Dedicated Hosts">
      <link rel="next" href="dedicated-hosts-recovery.html" title="Host Recovery">
      <meta name="description" content="Allocate, launch, use, monitor, and release Dedicated Hosts in your account.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/how-dedicated-hosts-work.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/ec2/index.html">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="Instances.html">Amazon EC2 Instances</a> &#xBB; <a href="instance-purchasing-options.html">Instance Purchasing Options</a> &#xBB; <a href="dedicated-hosts-overview.html">Dedicated Hosts</a> &#xBB; <span class="breadcrumb">Working with Dedicated Hosts</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="how-dedicated-hosts-work">Working with Dedicated Hosts</h1>
                     <p>To use a Dedicated Host, you first allocate hosts for use in your account. You then
                        launch
                        instances onto the hosts by specifying <em>host</em> tenancy for the 
                        instance. You must select a specific host for the instance to launch on to, or you
                        can allow 
                        it to launch on to any host that has auto-placement enabled and matches its instance
                        
                        type. When an instance is stopped and restarted, the <em>Host affinity</em> 
                        setting determines whether it&apos;s restarted on the same, or a different, host.
                     </p>
                     <p>If you 
                        no longer need an On-Demand host, you can stop the instances running on the host,
                        direct 
                        them to launch on a different host, and then <em>release</em> the host.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Contents</strong></p>
                        <ul>
                           <li><a href="#dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</a></li>
                           <li><a href="#dedicated-hosts-allocating">Allocating Dedicated Hosts</a></li>
                           <li><a href="#launching-dedicated-hosts-instances">Launching Instances onto Dedicated Hosts</a></li>
                           <li><a href="#modify-host-auto-placement">Modifying Dedicated Host Auto-Placement</a></li>
                           <li><a href="#moving-instances-dedicated-hosts">Modifying Instance Tenancy and Affinity</a></li>
                           <li><a href="#dedicated-hosts-managing">Viewing Dedicated Hosts</a></li>
                           <li><a href="#dedicated-hosts-tagging">Tagging Dedicated Hosts</a></li>
                           <li><a href="#dedicated-hosts-monitoring">Monitoring Dedicated Hosts</a></li>
                           <li><a href="#dedicated-hosts-releasing">Releasing Dedicated
                                 Hosts</a></li>
                           <li><a href="#purchasing-dedicated-host-reservations">Purchasing Dedicated Host Reservations</a></li>
                           <li><a href="#viewing-host-reservations">Viewing Dedicated Host Reservations</a></li>
                           <li><a href="#tagging-host-reservations">Tagging Dedicated Host Reservations</a></li>
                        </ul>
                     </div>
                     
                     <h2 id="dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</h2>
                     
                     
                     <p>Placement control happens on both the instance level and host level.</p>
                     
                     
                     <h3 id="dedicated-hosts-auto-placement">Auto-Placement</h3>
                     
                     <p>Auto-placement allows you to manage whether instances that you launch are
                        launched onto a specific host, or onto any available host that has matching
                        configurations. Auto-placement must be configured at the host level.
                     </p> 
                     
                     
                     <p>When a Dedicated Host&apos;s auto-placement is <em>disabled</em>, it only accepts
                        <em>Host</em> tenancy instance launches that specify its unique host ID.
                        This is the default setting for new Dedicated Hosts.
                     </p>
                     
                     <p>When a Dedicated Host&apos;s auto-placement is <em>enabled</em>, it accepts any
                        untargeted instance launches that match its instance type configuration.
                     </p>
                     
                     
                     <p>When launching an instance, you need to configure its tenancy. Launching an
                        instance onto a Dedicated Host without providing a specific <code class="code">HostId</code>, enables
                        it to launch on any Dedicated Host that has auto-placement <em>enabled</em> and
                        matches its instance type.
                     </p>
                     
                     
                     
                     <h3 id="dedicated-hosts-affinity">Host Affinity</h3>
                     
                     <p>Host Affinity is configured at the instance level. It establishes a launch relationship
                        between an instance and a
                        Dedicated Host.
                     </p>
                     
                     <p>When affinity is set to <code class="code">Host</code>, an instance launched
                        onto a specific host always restarts on the same host if stopped. This applies
                        to both targeted and untargeted launches.
                     </p>
                     
                     <p>When affinity is set to <code class="code">Off</code>, and you stop and restart the instance,
                        it can be restarted on any available host. However, it tries to launch back onto
                        the last Dedicated Host on which it ran (on a best-effort basis).
                     </p>
                     
                     
                     
                     
                     <h2 id="dedicated-hosts-allocating">Allocating Dedicated Hosts</h2>
                     
                     <p>To begin using Dedicated Hosts, they must be allocated to your account. You can allocate
                        Dedicated Hosts to your account using the Amazon EC2 console or the command line tools.
                     </p>
                     
                     <p class="title"><b>To allocate Dedicated Hosts using the Amazon EC2 console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           	
                           <p>In the navigation pane, choose <b>Dedicated Hosts</b>, <b>Allocate
                                 						Dedicated Host</b>.
                           </p>
                           
                        </li>
                        <li>
                           	
                           <p>Configure the following Dedicated Host options:</p>
                           
                           <ol>
                              <li>
                                 	
                                 <p><b>Instance type</b>&#x2014;The type of instance that
                                    you want to launch on the Dedicated Host.
                                 </p>
                                 
                              </li>
                              <li>
                                 	
                                 <p><b>Availability Zone</b>&#x2014;The Availability Zone in which the Dedicated Host 
                                    is located.
                                 </p>
                                 
                              </li>
                              <li>
                                 	
                                 <p>To allow the Dedicated Host to accept untargeted instance launches that match its
                                    instance type, for                         								<b>Instance auto-placement</b>, choose <b>Enable</b>.
                                 </p>
                                 
                                 <p>For more information about auto-placement, see <a href="how-dedicated-hosts-work.html#dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</a>.
                                 </p>
                                 
                              </li>
                              <li>                   		
                                 		
                                 <p>To enable host recovery for the Dedicated Host, for <b>Host recovery</b> choose 
                                    			<b>Enable</b>. For more information, see <a href="dedicated-hosts-recovery.html">Host Recovery</a>.
                                 </p>
                                 	
                              </li>
                              <li>
                                 	
                                 <p><b>Quantity</b>&#x2014;The number of Dedicated Hosts to allocate with these
                                    options.
                                 </p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           		
                           <p>(Optional) Choose <b>Add Tag</b> and enter a tag key and a tag value.
                           </p>
                           	
                        </li>
                        <li>
                           <p>Choose <b>Allocate host</b>.
                           </p>
                        </li>
                     </ol>
                     	
                     	
                     	
                     	
                     	
                     	
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To allocate Dedicated Hosts using the command line tools</b></p>
                        
                        <p>Use one of the following commands. The following commands allocate a Dedicated Host
                           that
                           					supports <em>untargeted</em>
                           					<code class="code">m4.large</code> instance launches in the <code class="code">eu-west-1a</code>
                           					Availability Zone, enable host recovery, and apply a tag with a key of <code class="code">purpose</code> and a
                           					value of <code class="code">production</code>.
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/allocate-hosts.html">allocate-hosts</a> (AWS CLI)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 allocate-hosts --instance-type <em class="replaceable"><code>&quot;m4.large&quot;</code></em> --availability-zone <em class="replaceable"><code>&quot;eu-west-1a&quot;</code></em> --auto-placement <em class="replaceable"><code>&quot;off&quot;</code></em> --host-recovery <em class="replaceable"><code>&quot;on&quot;</code></em> --quantity <em class="replaceable"><code>1</code></em> --tag-specifications &apos;ResourceType=<em class="replaceable"><code>dedicated-host</code></em>,Tags=[{Key=<em class="replaceable"><code>purpose</code></em>,Value=<em class="replaceable"><code>production</code></em>}]&apos;</code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/New-EC2Host.html">New-EC2Host</a> (AWS Tools for Windows PowerShell)
                              </p>
                              	
                              <p>The <code class="code">TagSpecification</code> parameter used to tag a Dedicated Host on creation requires an object that specifies
                                 the type of resource to be tagged, the tag key, and the tag value. The following commands
                                 create the required object.
                              </p>
                              	<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>$tag = @{ Key=&quot;<em class="replaceable"><code>purpose</code></em>&quot;; Value=&quot;<em class="replaceable"><code>production</code></em>&quot; }
<code class="prompt" copy="false">PS C:\&gt; </code>$tagspec = new-object Amazon.EC2.Model.TagSpecification
<code class="prompt" copy="false">PS C:\&gt; </code>$tagspec.ResourceType = &quot;<em class="replaceable"><code>dedicated-host</code></em>&quot;
<code class="prompt" copy="false">PS C:\&gt; </code>$tagspec.Tags.Add($tag)</code></pre>
                              	<p>The following command allocates the Dedicated Host and applies the tag specified in
                                 the <code class="code">$tagspec</code> object.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>New-EC2Host -InstanceType <em class="replaceable"><code>m4.large</code></em> -AvailabilityZone <em class="replaceable"><code>eu-west-1a</code></em> -AutoPlacement <em class="replaceable"><code>Off</code></em> -HostRecovery <em class="replaceable"><code>On</code></em> -Quantity <em class="replaceable"><code>1</code></em> -TagSpecification <em class="replaceable"><code>$tagspec</code></em></code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     	
                     <p>The Dedicated Host capacity is made available in your account immediately.</p>
                     
                     <p>If you launch instances with <code class="code">host</code> tenancy but do not have any active
                        Dedicated Host in your account, you receive an error and the instance launch fails.
                     </p>
                     
                     
                     <h2 id="launching-dedicated-hosts-instances">Launching Instances onto Dedicated Hosts</h2>
                     
                     <p>After you have allocated a Dedicated Host, you can launch instances onto it. You cannot
                        				launch instances with <code class="code">host</code> tenancy if you do not have active Dedicated Hosts with
                        				enough available capacity for the instance type that you are launching.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>The instances launched onto Dedicated Hosts can only be launched in a VPC.
                           For more information, see <a href="./vpc/latest/userguide/VPC_Introduction.html">Introduction to VPC</a>.
                        </p>
                     </div>
                     
                     <p>Before you launch your instances, take note of the limitations. For more
                        information, see <a href="dedicated-hosts-overview.html#dedicated-hosts-limitations">Dedicated Hosts Limitations and Restrictions</a>.
                     </p>
                     
                     
                     
                     <p class="title"><b>To launch an instance onto a specific Dedicated Host from the Dedicated Hosts page</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Dedicated Hosts</b> in the navigation pane.
                           </p>
                        </li>
                        <li>
                           
                           <p>On the <b>Dedicated Hosts</b> page, select a host  choose
                              							<b>Actions</b>, <b>Launch Instance(s) onto
                                 							Host</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select an AMI from the list. Windows, SUSE, and RHEL AMIs provided by
                              Amazon EC2 can&apos;t be used with Dedicated Hosts.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Choose an Instance Type</b> page, keep the instance type that 
                              is selected by default, and then choose <b>Next: Configure Instance Details</b>.
                              
                           </p>
                           <p>The instance type is determined by the host that you selected.</p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Configure Instance Details</b> page, configure the instance settings to suit 
                              your needs, and then for <b>Affinity</b>, choose one of the following options:
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    <p><b>Off</b>&#x2014;The instance launches onto the specified host, 
                                       but it is not guaranteed to restart on the same Dedicated Host if stopped.
                                    </p>
                                 </li>
                                 <li class="listitem">
                                    <p><b>Host</b>&#x2014;If stopped, the instance always restarts on this
                                       specific host.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           
                           <p>For more information about Affinity, see <a href="how-dedicated-hosts-work.html#dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</a>.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>The <b>Tenancy</b> and <b>Host</b> options are pre-configured
                                 based on the host that you selected.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           <p>Choose <b>Review and Launch</b>.
                           </p>
                        </li>
                        <li>
                           
                           <p>On the <b>Review Instance Launch</b> page, choose <b>Launch</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>When prompted, select an existing key pair or create a new one, and then choose 
                              <b>Launch Instances</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <p class="title"><b>To launch an instance onto a Dedicated Host using the Launch Instance wizard</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Instances</b>,
                              							<b>Launch Instance</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select an AMI from the list. Windows, SUSE, and RHEL AMIs provided by
                              Amazon EC2 can&apos;t be used with Dedicated Hosts.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the type of instance to launch and choose <b>Next: Configure Instance Details</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Configure Instance Details</b> page, configure the instance settings to suit 
                              your needs, and then configure the following Dedicated Host-specific settings:
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                                                        
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>Tenancy&#x2014;Choose <b>Dedicated Host - Launch this
                                          instance on a Dedicated Host</b>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Host&#x2014;Choose either <b>Use auto-placement</b>
                                       to launch the instance on any Dedicated Host that has auto-placement enabled,
                                       or select a specific Dedicated Host in the list. If Dedicated Hosts does not support
                                       the
                                       selected instance type, it is disabled in the list.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Affinity&#x2014;Choose one of the following options:</p>
                                    
                                    <div class="itemizedlist">
                                       
                                       
                                       
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             <p><b>Off</b>&#x2014;The instance launches onto the specified host, but
                                                it is not guaranteed to restart on it if stopped.
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p><b>Host</b>&#x2014;If stopped, the instance always restarts on 
                                                the specified host.
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                           <p>For more information, see <a href="how-dedicated-hosts-work.html#dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</a>.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>If you are unable to see these settings, check that
                                 you have selected a VPC in the <b>Network</b> menu.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           <p>Choose <b>Review and Launch</b>.
                           </p>
                        </li>
                        <li>
                           
                           <p>On the <b>Review Instance Launch</b> page, choose <b>Launch</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>When prompted, select an existing key pair or create a new one, and then choose 
                              <b>Launch Instances</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To launch an instance onto a Dedicated Host using the command line tools</b></p>
                        
                        <p>Use one of the following commands and specify the instance affinity, tenancy, and
                           host in the <code class="code">Placement</code> request parameter:
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/run-instances.html">run-instances</a> (AWS CLI)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/New-EC2Instance.html">New-EC2Instance</a> (AWS Tools for Windows PowerShell)
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     
                     <h2 id="modify-host-auto-placement">Modifying Dedicated Host Auto-Placement</h2>
                     
                     <p>You can modify a Dedicated Host&apos;s auto-placement settings after you have allocated
                        it to
                        your AWS account.
                     </p>
                     
                     <p class="title"><b>To modify a Dedicated Host&apos;s auto-placement using the Amazon EC2 console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Dedicated Hosts</b> in the navigation pane.
                           </p>
                        </li>
                        <li>
                           <p>On the <b>Dedicated Hosts</b> page, select a host and choose <b>Actions</b>,
                              							<b>Modify Auto-Placement</b>.
                           </p>
                        </li>
                        <li>
                           <p>On the Modify Auto-placement window, for <b>Allow instance auto-placement</b>,
                              						choose <b>Yes</b> to enable auto-placement, or choose
                              							<b>No</b> to disable auto-placement. For more information,
                              						see <a href="how-dedicated-hosts-work.html#dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</a>.
                           </p>
                           
                        </li>
                        <li>
                           <p>Choose <b>Save</b>.
                           </p>
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To modify a Dedicated Host&apos;s auto-placement using the command line tools</b></p>
                        
                        <p>Use one of the following commands. The following examples enable
                           auto-placement for the specified Dedicated Host.
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/modify-hosts.html">modify-hosts</a> (AWS CLI)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 modify-hosts --auto-placement <em class="replaceable"><code>on</code></em> --host-ids <em class="replaceable"><code>h-012a3456b7890cdef</code></em></code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Edit-EC2Host.html">Edit-EC2Host</a> (AWS Tools for Windows PowerShell)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>Edit-EC2Host --AutoPlacement <em class="replaceable"><code>1</code></em> --HostId <em class="replaceable"><code>h-012a3456b7890cdef</code></em></code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     
                     <h2 id="moving-instances-dedicated-hosts">Modifying Instance Tenancy and Affinity</h2>
                     
                     <p>You can change the tenancy of an instance from <code class="code">dedicated</code> to
                        <code class="code">host</code>, or from <code class="code">host</code> to <code class="code">dedicated</code>, after
                        you have launched it.
                     </p>
                     
                     <p class="title"><b>To modify instance tenancy and affinity using the Amazon EC2 console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Instances</b>, and select the instance to modify.
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Actions</b>, <b>Instance State</b>, and
                              <b>Stop</b>.
                           </p>
                        </li>
                        <li>
                           <p>Open the context (right-click) menu on the instance and choose <b>Instance
                                 Settings</b>, <b>Modify Instance Placement</b>.
                           </p>
                        </li>
                        <li>
                           
                           <p>On the <b>Modify Instance Placement</b> page, configure the following:
                           </p>
                           
                           <div class="itemizedlist">
                              
                                                        
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Tenancy</b>&#x2014;Choose one of the following:
                                    </p> 
                                    
                                    <div class="itemizedlist">
                                       
                                       
                                       
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             <p>Run a dedicated hardware instance&#x2014;Launches the instance as a Dedicated Instance. For
                                                more information,
                                                see <a href="dedicated-instance.html">Dedicated Instances</a>.
                                             </p>
                                          </li>
                                          <li class="listitem">
                                             <p>Launch the instance on a Dedicated Host&#x2014;Launches the instance onto a 
                                                Dedicated Host with configurable affinity.
                                             </p> 
                                          </li>
                                       </ul>
                                    </div>  
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Affinity</b>&#x2014;Choose one of the following:
                                    </p>
                                    
                                    <div class="itemizedlist">
                                       
                                       
                                       
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             
                                             <p>This instance can run on any one of my hosts&#x2014;The
                                                instance launches onto any available Dedicated Host in your account
                                                that supports its instance type.
                                             </p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p>This instance can only run on the selected host&#x2014;The
                                                instance is only able to run on the Dedicated Host selected for
                                                <b>Target Host</b>.
                                             </p>
                                             
                                          </li>
                                       </ul>
                                    </div>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Target Host</b>&#x2014;Select the Dedicated Host that the instance must run 
                                       on. If no target host is listed, you may not have available, compatible Dedicated
                                       Hosts in your
                                       account.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                           <p>For more information, see <a href="how-dedicated-hosts-work.html#dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</a>.
                           </p>
                           
                        </li>
                        <li>
                           <p>Choose <b>Save</b>.
                           </p>
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To modify instance tenancy and affinity using the command line tools</b></p>
                        
                        <p>Use one of the following commands. The following examples change the specified
                           instance&apos;s affinity from <code class="code">default</code> to <code class="code">host</code>, and specify
                           the Dedicated Host that the instance has affinity with.
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/modify-instance-placement.html">modify-instance-placement</a> (AWS CLI)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 modify-instance-placement --instance-id <em class="replaceable"><code>i-1234567890abcdef0</code></em> --affinity <em class="replaceable"><code>host</code></em> --host-id <em class="replaceable"><code>h-012a3456b7890cdef</code></em></code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Edit-EC2InstancePlacement.html">Edit-EC2InstancePlacement</a> (AWS Tools for Windows PowerShell)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>Edit-EC2InstancePlacement -InstanceId <em class="replaceable"><code>i-1234567890abcdef0</code></em> -Affinity <em class="replaceable"><code>host</code></em> -HostId <em class="replaceable"><code>h-012a3456b7890cdef</code></em></code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     
                     <h2 id="dedicated-hosts-managing">Viewing Dedicated Hosts</h2>
                     
                     <p>You can view details about a Dedicated Host and the individual instances on
                        it.
                     </p>
                     
                     <p class="title"><b>To view details of instances on a Dedicated Host using the Amazon EC2
                           console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>In the navigation pane, choose <b>Dedicated Hosts</b>.
                           </p>
                        </li>
                        <li>
                           
                           <p>On the <b>Dedicated Hosts</b> page, select the host to view
                              more information about.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For information about the host, choose <b>Description</b>.
                              For information about instances running on the host, choose
                              <b>Instances</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To view details of instances on a Dedicated Host using the command line tools</b></p>
                        
                        <p>Use one of the following commands:</p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/describe-hosts.html">describe-hosts</a> (AWS CLI)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 describe-hosts --host-id <em class="replaceable"><code>host_id</code></em></code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Get-EC2Host.html">Get-EC2Host</a> (AWS Tools for Windows PowerShell)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>Get-EC2Host -HostId <em class="replaceable"><code>host_id</code></em></code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     		
                     <h2 id="dedicated-hosts-tagging">Tagging Dedicated Hosts</h2>
                     		
                     <p>You can assign custom tags to your existing Dedicated Hosts to categorize them in
                        different ways,
                        for example, by purpose, owner, or environment. This helps you to quickly find a
                        specific Dedicated Host based on the custom tags that you assigned. Dedicated Host
                        tags can also be used
                        for cost allocation tracking.
                     </p>
                     		
                     <p>You can also apply tags to Dedicated Hosts at the time of creation. For more information,
                        see 
                        			<a href="how-dedicated-hosts-work.html#dedicated-hosts-allocating">Allocating Dedicated Hosts</a>.
                     </p>
                     		
                     <p>You can tag a Dedicated Host using the Amazon EC2 console and command line tools.</p>
                     		
                     		
                     <p class="title"><b>To tag a Dedicated Host using the console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>In the navigation pane, choose <b>Dedicated Hosts</b>. 
                           </p>
                        </li>
                        <li>
                           <p>Select the Dedicated Host to tag, and then choose <b>Tags</b>. 
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Add/Edit Tags</b>.
                           </p>
                        </li>
                        <li>
                           <p>In the <b>Add/Edit Tags</b> dialog box, choose <b>Create Tag</b>,
                              				and then specify the key and value for the tag.
                           </p>
                        </li>
                        <li>
                           <p>(Optional) Choose <b>Create Tag</b> to add additional tags to the Dedicated Host.
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Save</b>.
                           </p>
                        </li>
                     </ol>
                     
                     		
                     <div class="itemizedlist">
                        			
                        <p class="title"><b>To tag a Dedicated Host using the command line</b></p>
                        			
                        <p>Use one of the following commands:</p>
                        			
                        			
                        		
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              				
                              <p><a href="./cli/latest/reference/ec2/create-tags.html">create-tags</a> (AWS CLI)
                              </p>
                              				
                              <p>The following command tags the specified Dedicated Host with <code class="code">Owner=TeamA</code>.
                              </p>
                              				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 create-tags --resources <em class="replaceable"><code>h-abc12345678909876</code></em> --tags Key=<em class="replaceable"><code>Owner</code></em>,Value=<em class="replaceable"><code>TeamA</code></em></code></pre>
                              			</li>
                           <li class="listitem">
                              				
                              <p><a href="./powershell/latest/reference/items/New-EC2Tag.html">New-EC2Tag</a> (AWS Tools for Windows PowerShell)
                              </p>
                              				
                              <p>The <code class="code">New-EC2Tag</code> command needs a <code class="code">Tag</code> object, which specifies
                                 the key and value pair to be used for the Dedicated Host tag. The following commands
                                 create a <code class="code">Tag</code> object named <code class="code">$tag</code>, with a key and
                                 value pair of <code class="code">Owner</code> and <code class="code">TeamA</code> respectively.
                              </p>
                              				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>$tag = New-Object Amazon.EC2.Model.Tag
<code class="prompt" copy="false">PS C:\&gt; </code>$tag.Key = &quot;<em class="replaceable"><code>Owner</code></em>&quot;
<code class="prompt" copy="false">PS C:\&gt; </code>$tag.Value = &quot;<em class="replaceable"><code>TeamA</code></em>&quot;</code></pre>
                              				<p>The following command tags the specified Dedicated Host with the <code class="code">$tag</code>
                                 object.
                              </p>
                              				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>New-EC2Tag -Resource <em class="replaceable"><code>h-abc12345678909876</code></em> -Tag $tag</code></pre>
                              			</li>
                        </ul>
                     </div>
                     	
                     
                     <h2 id="dedicated-hosts-monitoring">Monitoring Dedicated Hosts</h2>
                     
                     <p>Amazon EC2 constantly monitors the state of your Dedicated Hosts. Updates are communicated
                        on the
                        Amazon EC2 console. You can also obtain information about your Dedicated Hosts by
                        using the command
                        line tools.
                     </p>
                     
                     <p class="title"><b>To view the state of a Dedicated Host using the Amazon EC2 console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Dedicated Hosts</b>.
                           </p>
                           
                        </li>
                        <li>
                           <p>Locate the Dedicated Host in the list and review the value in the <b>State</b>
                              column.
                           </p>
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To view the state of a Dedicated Host using the command line tools</b></p>
                        
                        <p>Use one of the following commands and then review the <code class="code">state</code> property in the <code class="code">hostSet</code> response element:
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/describe-hosts.html">describe-hosts</a> (AWS CLI)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 describe-hosts --host-id <em class="replaceable"><code>host_id</code></em></code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Get-EC2Host.html">Get-EC2Host</a> (AWS Tools for Windows PowerShell)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>Get-EC2Host -HostId <em class="replaceable"><code>host_id</code></em></code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     <p>The following table explains the possible Dedicated Host states.</p>
                     
                     <div class="table">
                        <div class="table-contents">
                           <table id="w306aac20c13c21c19c23c11">
                              
                              <tbody><tr>
                                 
                                 <th><b>State</b></th>
                                 
                                 <th><b>Description</b></th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td><code class="code">available</code></td>
                                 
                                 <td>AWS hasn&apos;t detected an issue with the Dedicated Host. No maintenance or
                                    repairs are scheduled. Instances can be launched onto this Dedicated
                                    Host.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td><code class="code">released</code></td>
                                 
                                 <td>The Dedicated Host has been released. The host ID is no longer in
                                    use. Released hosts cannot be reused.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td><code class="code">under-assessment</code></td>
                                 
                                 <td>AWS is exploring a possible issue with the Dedicated Host. If action must
                                    								be taken, you are notified via the AWS Management Console or email. Instances
                                    								cannot be launched onto a Dedicated Host in this state.
                                 </td>
                                 
                              </tr>
                              	
                              <tr>
                                 		
                                 <td><code class="code">pending</code></td>
                                 		
                                 <td>A host recovery is in progress. For more information, see
                                    			<a href="dedicated-hosts-recovery.html">Host Recovery</a>.
                                 </td>
                                 	
                              </tr>
                              
                              <tr>
                                 
                                 <td><code class="code">permanent-failure</code></td>
                                 
                                 <td>An unrecoverable failure has been detected. You receive an
                                    eviction notice through your instances and by email. Your instances
                                    might continue to run. If you stop or terminate all instances on a
                                    Dedicated Host with this state, AWS retires the host. AWS does not restart
                                    instances in this state. Instances cannot be launched onto Dedicated Hosts in
                                    this state.
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td><code class="code">released-permanent-failure</code></td>
                                 
                                 <td>AWS permanently releases Dedicated Hosts that have failed and no
                                    longer have running instances on them. The Dedicated Host ID is no
                                    longer available for use.
                                 </td>
                                 
                              </tr>
                              
                           </tbody></table>
                        </div>
                     </div>
                     
                     
                     <h2 id="dedicated-hosts-releasing">Releasing Dedicated
                        Hosts
                     </h2>
                     
                     <p>Any running instances on the Dedicated Host must be stopped before you can release
                        the host.
                        These instances can be migrated to other Dedicated Hosts in your account so that you
                        can
                        continue to use them. These steps apply only to On-Demand Dedicated Hosts.
                     </p>
                     
                     <p class="title"><b>To release a Dedicated Host using the Amazon EC2 console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Dedicated Hosts</b> in the navigation pane.
                           </p>
                        </li>
                        <li>
                           
                           <p>On the <b>Dedicated Hosts</b> page, select the Dedicated Host to release.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Actions</b>, <b>Release
                                 Hosts</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Release</b> to confirm.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To release a Dedicated Host using the command line tools</b></p>
                        
                        <p>Use one of the following commands:</p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/release-hosts.html">release-hosts</a> (AWS CLI)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 release-hosts --host-ids <em class="replaceable"><code>host_id</code></em></code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Get-EC2Host.html">Remove-EC2Hosts</a> (AWS Tools for Windows PowerShell)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>Remove-EC2Hosts -HostId <em class="replaceable"><code>host_id</code></em></code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     <p>After you release a Dedicated Host, you cannot reuse the same host or host ID again,
                        and you
                        are no longer charged On-Demand billing rates for it. The Dedicated Host&apos;s state is
                        changed to <code class="code">released</code>, and you are not able to launch any instances onto
                        that host.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If you have recently released Dedicated Hosts, it may take some time for them to stop
                           counting towards
                           your limit. During this time, you may experience <code class="code">LimitExceeded</code>
                           errors when trying to allocate new Dedicated Hosts. If this is the case, try allocating
                           new hosts again after a few minutes.
                        </p>
                     </div>
                     
                     
                     <p>The instances that were stopped are still available for use and are listed on the
                        <b>Instances</b> page. They retain their <code class="code">host</code> tenancy
                        setting.
                     </p>
                     
                     
                     <h2 id="purchasing-dedicated-host-reservations">Purchasing Dedicated Host Reservations</h2>
                     
                     <p>You can purchase reservations using the Amazon EC2 console or command line
                        				tools.
                     </p>
                     
                     <p class="title"><b>To purchase reservations using the Amazon EC2 console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>Choose <b>Dedicated Hosts</b>, <b>Dedicated Host Reservations</b>,
                              <b>Purchase Dedicated Host Reservation</b>.
                           </p>
                        </li>
                        <li>
                           <p>On the <b>Purchase Dedicated Host Reservation</b> screen, you can search for available offerings
                              using the default settings, or you can specify custom values for the
                              following:
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Host instance family</b>&#x2014;The options listed
                                       correspond with the Dedicated Hosts in your account that are not already
                                       assigned to a reservation.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Availability Zone</b>&#x2014;The Availability Zone
                                       of the Dedicated Hosts in your account that aren&apos;t already assigned to a
                                       reservation.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Payment option</b>&#x2014;The payment option for
                                       the offering.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Term</b>&#x2014;The term of the reservation, which
                                       can be one or three years.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           <p>Choose <b>Find offering</b> and select an offering that matches your
                              requirements.
                           </p>
                        </li>
                        <li>
                           <p>Choose the Dedicated Hosts to associate with the reservation, and then choose
                              <b>Review</b>.
                           </p>
                        </li>
                        <li>
                           <p>Review your order and choose <b>Purchase</b>.
                           </p>
                        </li>
                     </ol>
                     
                     <p class="title"><b>To purchase reservations using the command line tools</b></p>
                     <ol>
                        <li>
                           <p>Use one of the following commands to list the available offerings
                              that match your needs. The following examples list the offerings that support instances
                              in the <code class="code">m4</code> instance family and
                              have a one-year term.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>The term is specified in seconds. A one-year term includes 31536000
                                 seconds, and a three-year term includes 94608000 seconds.
                              </p>
                           </div>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><a href="./cli/latest/reference/ec2/describe-host-reservation-offerings.html">describe-host-reservation-offerings</a> (AWS CLI)
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 describe-host-reservation-offerings --filter Name=<em class="replaceable"><code>instance-family</code></em>,Values=<em class="replaceable"><code>m4</code></em> --max-duration <em class="replaceable"><code>31536000</code></em></code></pre>
                                    </li>
                                 <li class="listitem">
                                    
                                    <p><a href="./powershell/latest/reference/items/Get-EC2HostReservationOffering.html">Get-EC2HostReservationOffering</a> (AWS Tools for Windows PowerShell)
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>$filter = @{Name=&quot;instance-family&quot;; Value=&quot;m4&quot;}</code></pre>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>Get-EC2HostReservationOffering -filter <em class="replaceable"><code>$filter</code></em> -MaxDuration <em class="replaceable"><code>31536000</code></em></code></pre>
                                    </li>
                              </ul>
                           </div>
                           
                           <p>Both commands return a list of offerings that match your criteria. Note
                              the <code class="code">offeringId</code> of the offering to purchase. 
                           </p>
                           
                        </li>
                        <li>
                           <p>Use one of the following commands to purchase the offering and provide the
                              <code class="code">offeringId</code> noted in the previous step. The following
                              examples purchase the specified reservation and associate it with a specific
                              Dedicated Host that is already allocated in the AWS account.
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><a href="./cli/latest/reference/ec2/purchase-host-reservation.html">purchase-host-reservation</a> (AWS CLI)
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 purchase-host-reservation --offering-id <em class="replaceable"><code>hro-03f707bf363b6b324</code></em> --host-id-set <em class="replaceable"><code>h-013abcd2a00cbd123</code></em></code></pre>
                                    </li>
                                 <li class="listitem">
                                    
                                    <p><a href="./powershell/latest/reference/items/New-EC2HostReservation.html">New-EC2HostReservation</a> (AWS Tools for Windows PowerShell)
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>New-EC2HostReservation -OfferingId <em class="replaceable"><code>hro-03f707bf363b6b324</code></em> -HostIdSet <em class="replaceable"><code>h-013abcd2a00cbd123</code></em></code></pre>
                                    </li>
                              </ul>
                           </div>
                           
                        </li>
                     </ol>
                     
                     
                     <h2 id="viewing-host-reservations">Viewing Dedicated Host Reservations</h2>
                     
                     <p>You can view information about the Dedicated Hosts associated with your reservation,
                        including:
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>The term of the reservation</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The payment option</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The start and end dates</p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p class="title"><b>To view details of reservations using the Amazon EC2 console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>Choose <b>Dedicated Hosts</b> in the navigation pane.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Dedicated Hosts</b> page, choose <b>Dedicated Host
                                 Reservations</b>, and then select the reservation from the list
                              provided.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Details</b> for information about the
                              reservation.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Hosts</b> for information about the Dedicated Hosts with
                              which the reservation is associated.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To view details of reservations using the command line tools</b></p>
                        
                        <p>Use one of the following commands:</p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/describe-host-reservations.html">describe-host-reservations</a> (AWS CLI)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">aws ec2 describe-host-reservations</code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Get-EC2HostReservation.html">Get-EC2HostReservation</a> (AWS Tools for Windows PowerShell)
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>Get-EC2HostReservation</code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     		
                     <h2 id="tagging-host-reservations">Tagging Dedicated Host Reservations</h2>	
                     		
                     <p>You can assign custom tags to your Dedicated Host Reservations to categorize them
                        in different ways, for
                        example, by purpose, owner, or environment. This helps you to quickly find a
                        specific Dedicated Host Reservation based on the custom tags you assigned.
                     </p>
                     		
                     <p>You can tag a Dedicated Host Reservation using the AWS CLI only.</p>    		
                     		
                     		
                     <div class="itemizedlist">
                        			
                        <p class="title"><b>To tag a Dedicated Host Reservation using the command line</b></p>
                        			
                        <p>Use one of the following commands:</p>
                        			
                        			
                        		
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              				
                              <p><a href="./cli/latest/reference/ec2/create-tags.html">create-tags</a> (AWS CLI)
                              </p>
                              				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws ec2 create-tags --resources <em class="replaceable"><code>hr-1234563a4ffc669ae</code></em> --tags Key=<em class="replaceable"><code>Owner</code></em>,Value=<em class="replaceable"><code>TeamA</code></em></code></pre>
                              			</li>
                           <li class="listitem">
                              				
                              <p><a href="./powershell/latest/reference/items/New-EC2Tag.html">New-EC2Tag</a> (AWS Tools for Windows PowerShell)
                              </p>
                              				
                              <p>The <code class="code">New-EC2Tag</code> command needs a <code class="code">Tag</code> parameter, which
                                 specifies the key and value pair to be used for the Dedicated Host Reservation tag.
                                 The following
                                 commands create the <code class="code">Tag</code> parameter.
                              </p>
                              				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>$tag = New-Object Amazon.EC2.Model.Tag
<code class="prompt" copy="false">PS C:\&gt; </code>$tag.Key = &quot;<em class="replaceable"><code>Owner</code></em>&quot;
<code class="prompt" copy="false">PS C:\&gt; </code>$tag.Value = &quot;<em class="replaceable"><code>TeamA</code></em>&quot;</code></pre>
                              				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code>New-EC2Tag -Resource <em class="replaceable"><code>hr-1234563a4ffc669ae</code></em> -Tag $tag</code></pre>
                              			</li>
                        </ul>
                     </div>
                     	
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="dedicated-hosts-overview.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="dedicated-hosts-recovery.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Understanding Auto-Placement and Affinity"><a class="pagetoc" href="#dedicated-hosts-understanding">Understanding Auto-Placement and Affinity</a></li>
                        <li class="pagetoc" name="Allocating Dedicated Hosts"><a class="pagetoc" href="#dedicated-hosts-allocating">Allocating Dedicated Hosts</a></li>
                        <li class="pagetoc" name="Launching Instances onto Dedicated Hosts"><a class="pagetoc" href="#launching-dedicated-hosts-instances">Launching Instances onto Dedicated Hosts</a></li>
                        <li class="pagetoc" name="Modifying Dedicated Host Auto-Placement"><a class="pagetoc" href="#modify-host-auto-placement">Modifying Dedicated Host Auto-Placement</a></li>
                        <li class="pagetoc" name="Modifying Instance Tenancy and Affinity"><a class="pagetoc" href="#moving-instances-dedicated-hosts">Modifying Instance Tenancy and Affinity</a></li>
                        <li class="pagetoc" name="Viewing Dedicated Hosts"><a class="pagetoc" href="#dedicated-hosts-managing">Viewing Dedicated Hosts</a></li>
                        <li class="pagetoc" name="Tagging Dedicated Hosts"><a class="pagetoc" href="#dedicated-hosts-tagging">Tagging Dedicated Hosts</a></li>
                        <li class="pagetoc" name="Monitoring Dedicated Hosts"><a class="pagetoc" href="#dedicated-hosts-monitoring">Monitoring Dedicated Hosts</a></li>
                        <li class="pagetoc" name="Releasing Dedicated
                Hosts"><a class="pagetoc" href="#dedicated-hosts-releasing">Releasing Dedicated
                              Hosts</a></li>
                        <li class="pagetoc" name="Purchasing Dedicated Host Reservations"><a class="pagetoc" href="#purchasing-dedicated-host-reservations">Purchasing Dedicated Host Reservations</a></li>
                        <li class="pagetoc" name="Viewing Dedicated Host Reservations"><a class="pagetoc" href="#viewing-host-reservations">Viewing Dedicated Host Reservations</a></li>
                        <li class="pagetoc" name="Tagging Dedicated Host Reservations"><a class="pagetoc" href="#tagging-host-reservations">Tagging Dedicated Host Reservations</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>