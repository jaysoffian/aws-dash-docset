<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Launching an Instance from a Launch Template - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="LaunchingAndUsingInstances.html" title="Launch Your Instance">
      <link rel="prev" href="launching-instance.html" title="Launching an Instance Using the Launch Instance Wizard">
      <link rel="next" href="launch-more-like-this.html" title="Launching an Instance Using Parameters from an Existing
                Instance">
      <meta name="description" content="Launch an instance from a set of parameters in a launch template.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <meta name="tocs" content="toc-contents.json">
      <meta name="marketingLocale" content="en_US">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-templates.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20181221"></script><link rel="stylesheet" type="text/css" href="../../../css/marketing-target.css"><script type="text/javascript" src="/assets/marketing/js/marketing-target.js"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> &#xBB; <a href="/ec2/index.html">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="Instances.html">Amazon EC2 Instances</a> &#xBB; <a href="ec2-instance-lifecycle.html">Instance Lifecycle</a> &#xBB; <a href="LaunchingAndUsingInstances.html">Launch Your Instance</a> &#xBB; <span class="breadcrumb">Launching an Instance from a Launch Template</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="ec2-launch-templates">Launching an Instance from a Launch Template</h1>
                     <p>You can create a <em>launch template</em> that contains the configuration
                        information to launch an instance. Launch templates enable you to store launch parameters
                        so
                        that you do not have to specify them every time you launch an instance. For example,
                        a
                        launch template can contain the AMI ID, instance type, and network settings that you
                        typically use to launch instances. When you launch an instance using the Amazon EC2
                        console, an
                        AWS SDK, or a command line tool, you can specify the launch template to use.
                     </p>
                     <p>For each launch template, you can create one or more numbered <em>launch template
                           versions</em>. Each version can have different launch parameters. When you launch
                        an instance from a launch template, you can use any version of the launch template.
                        If you
                        do not specify a version, the default version is used. You can set any version of
                        the launch
                        template as the default version&#x2014;by default, it&apos;s the first version of the launch
                        template.
                     </p>
                     <p>The following diagram shows a launch template with three versions. The first version
                        specifies the instance type, AMI ID, subnet, and key pair to use to launch the instance.
                        The
                        second version is based on the first version and also specifies a security group for
                        the
                        instance. The third version uses different values for some of the parameters. Version
                        2 is
                        set as the default version. If you launched an instance from this launch template,
                        the
                        launch parameters from version 2 would be used if no other version were specified.
                     </p>
                     <div class="mediaobject">
                        
                        <img src="../../..//img/launch-template-diagram.png" alt="
            Launch template
        ">
                        
                        
                        
                     </div>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Contents</strong></p>
                        <ul>
                           <li><a href="#launch-template-restrictions">Launch Template Restrictions</a></li>
                           <li><a href="#launch-templates-authorization">Using Launch Templates to Control
                                 Launch Parameters</a></li>
                           <li><a href="#launch-template-permissions">Controlling the Use of Launch
                                 Templates</a></li>
                           <li><a href="#create-launch-template">Creating a Launch Template</a></li>
                           <li><a href="#manage-launch-template-versions">Managing Launch Template
                                 Versions</a></li>
                           <li><a href="#launch-instance-from-launch-template">Launching an Instance from a
                                 Launch Template</a></li>
                           <li><a href="#launch-templates-as">Using Launch Templates with Amazon EC2 Auto Scaling</a></li>
                           <li><a href="#launch-templates-ec2-fleet">Using Launch Templates with EC2 Fleet</a></li>
                           <li><a href="#launch-templates-spot-fleet">Using Launch Templates with Spot Fleet</a></li>
                           <li><a href="#delete-launch-template">Deleting a Launch Template</a></li>
                        </ul>
                     </div>
                     
                     <h2 id="launch-template-restrictions">Launch Template Restrictions</h2>
                     
                     <p>The following rules apply to launch templates and launch template versions:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>You are limited to creating 5,000 launch templates per Region and 10,000
                                 versions per launch template.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Launch parameters are optional. However, you must ensure that your request to
                                 launch an instance includes all required parameters. For example, if your launch
                                 template does not include an AMI ID, you must specify both the launch template
                                 and an AMI ID when you launch an instance.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Launch template parameters are not validated when you create the launch
                                 template. Ensure that you specify the correct values for the parameters and that
                                 you use supported parameter combinations. For example, to launch an instance in
                                 a placement group, you must specify a supported instance type.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>You can tag a launch template, but you cannot tag a launch template
                                 version.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Launch template versions are numbered in the order in which they are created.
                                 When you create a launch template version, you cannot specify the version number
                                 yourself.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <h2 id="launch-templates-authorization">Using Launch Templates to Control
                        Launch Parameters
                     </h2>
                     
                     <p>A launch template can contain all or some of the parameters to launch an instance.
                        When you launch an instance using a launch template, you can override parameters that
                        are specified in the launch template. Or, you can specify additional parameters that
                        are
                        not in the launch template.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>You cannot remove launch template parameters during launch (for example, you
                           cannot specify a null value for the parameter). To remove a parameter, create a new
                           version of the launch template without the parameter and use that version to launch
                           the instance.
                        </p>
                     </div>
                     
                     <p>To launch instances, IAM users must have permissions to use the
                        <code class="code">ec2:RunInstances</code> action. You must also have permissions to create or
                        use the resources that are created or associated with the instance. You can use
                        resource-level permissions for the <code class="code">ec2:RunInstances</code> action to control the
                        launch parameters that users can specify. Alternatively, you can grant users permissions
                        to launch an instance using a launch template. This enables you to manage launch
                        parameters in a launch template rather than in an IAM policy, and to use a launch
                        template as an authorization vehicle for launching instances. For example, you can
                        specify that users can only launch instances using a launch template, and that they
                        can
                        only use a specific launch template. You can also control the launch parameters that
                        users can override in the launch template. For example policies, see <a href="ExamplePolicies_EC2.html#iam-example-runinstances-launch-templates">Launch Templates</a>.
                     </p>
                     
                     
                     <h2 id="launch-template-permissions">Controlling the Use of Launch
                        Templates
                     </h2>
                     
                     <p>By default, IAM users do not have permissions to work with launch templates. You can
                        create an IAM user policy that grants users permissions to create, modify, describe,
                        and delete launch templates and launch template versions. You can also apply
                        resource-level permissions to some launch template actions to control a user&apos;s ability
                        to use specific resources for those actions. For more information, see <a href="ec2-supported-iam-actions-resources.html">Supported Resource-Level Permissions for Amazon EC2 API Actions</a> and the following example
                        policies: <a href="ExamplePolicies_EC2.html#iam-example-launch-templates">Example: Working with Launch Templates</a>.
                     </p>
                     
                     <p>Take care when granting users permissions to use the
                        <code class="code">ec2:CreateLaunchTemplate</code> and
                        <code class="code">ec2:CreateLaunchTemplateVersion</code> actions. These actions do not support
                        resource-level permissions that enable you to control which resources users can specify
                        in the launch template. To restrict the resources that are used to launch an instance,
                        ensure that you grant permissions to create launch templates and launch template
                        versions only to appropriate administrators.
                     </p>
                     
                     
                     <h2 id="create-launch-template">Creating a Launch Template</h2>
                     
                     <p>Create a new launch template using parameters that you define, or use an existing
                        launch template or an instance as the basis for a new launch template.
                     </p>
                     
                     <p class="title"><b>To create a new launch template using defined parameters (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Launch Templates</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create launch template</b> and provide a name and
                              description.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Launch template contents</b>, provide the following
                              information:
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>AMI ID</b>: An AMI from which to launch the instance.
                                       To search through all available AMIs, choose <b>Search for
                                          AMI</b>. To select a commonly used AMI, choose
                                       <b>Quick Start</b>. Or, choose <b>AWS
                                          Marketplace</b> or <b>Community AMIs</b>. You
                                       can use an AMI that you own or <a href="finding-an-ami.html">find a
                                          suitable AMI</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Instance type</b>: Ensure that the instance type is
                                       compatible with the AMI that you&apos;ve specified. For more information, see
                                       <a href="instance-types.html">Instance Types</a>. 
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Key pair name</b>: The key pair for the instance. For
                                       more information, see <a href="ec2-key-pairs.html">Amazon EC2 Key Pairs</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Network type</b>: If applicable, whether to launch
                                       the instance into a VPC or EC2-Classic. If you choose
                                       <b>VPC</b>, specify the subnet in the
                                       <b>Network interfaces</b> section. If you choose
                                       <b>Classic</b>, ensure that the specified instance
                                       type is supported in EC2-Classic and specify the Availability Zone for
                                       the instance.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Security Groups</b>: One or more security groups to
                                       associate with the instance. For more information, see <a href="using-network-security.html">Amazon EC2 Security Groups for Linux Instances</a>.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Network interfaces</b>, you can specify up to two <a href="using-eni.html">network interfaces</a> for the instance.
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              	
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Device</b>: The device number for the network
                                       interface, for example, <code class="code">eth0</code> for the primary network
                                       interface. If you leave the field blank, AWS creates the primary network
                                       interface.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Network interface</b>: The ID of the network
                                       interface, or leave blank to let AWS create a new network
                                       interface.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Description</b>: (Optional) A description for the new
                                       network interface.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Subnet</b>: The subnet in which to create a new
                                       network interface. For the primary network interface
                                       (<code class="code">eth0</code>), this is the subnet in which the instance is
                                       launched. If you&apos;ve entered an existing network interface for
                                       <code class="code">eth0</code>, the instance is launched in the subnet in which
                                       the network interface is located.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Auto-assign public IP</b>: Whether to automatically
                                       assign a public IP address to the network interface with the device
                                       index of <code class="code">eth0</code>. This setting can only be enabled for a
                                       single, new network interface.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Primary IP</b>: A private IPv4 address from the range
                                       of your subnet. Leave blank to let AWS choose a private IPv4 address for
                                       you.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Secondary IP</b>: A secondary private IPv4 address
                                       from the range of your subnet. Leave blank to let AWS choose one for
                                       you.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>(IPv6-only) <b>IPv6 IPs</b>: An IPv6 address from the
                                       range of the subnet.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Security group ID</b>: The ID of a security group in
                                       your VPC with which to associate the network interface.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Delete on termination</b>: Whether the network
                                       interface is deleted when the instance is deleted.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    		
                                    <p><b>Elastic Fabric Adapter</b>: Indicates whether the network interface 
                                       			is an Elastic Fabric Adapter. For more information, see <a href="./AWSEC2/latest/UserGuide/efa.html">
                                          				Elastic Fabric Adapter</a>.
                                    </p>
                                    	
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Storage (Volumes)</b>, specify volumes to attach to the
                              instance besides the volumes specified by the AMI.
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Volume type</b>: The instance store or Amazon EBS volumes
                                       with which to associate your instance. The type of volume depends on the
                                       instance type that you&apos;ve chosen. For more information, see <a href="InstanceStorage.html">Amazon EC2 Instance Store</a> and
                                       <a href="EBSVolumes.html">Amazon EBS Volumes</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Device name</b>: A device name for the volume.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Snapshot</b>: The ID of the snapshot from which to
                                       create the volume.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Size</b>: For Amazon EBS volumes, the storage size.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Volume type</b>: For Amazon EBS volumes, the volume type.
                                       For more information, see <a href="EBSVolumeTypes.html">Amazon EBS Volume Types</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>IOPS</b>: For the Provisioned IOPS SSD volume type, the
                                       number of I/O operations per second (IOPS) that the volume can
                                       support.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Delete on termination</b>: For Amazon EBS volumes, whether
                                       to delete the volume when the instance is terminated. For more
                                       information, see <a href="terminating-instances.html#preserving-volumes-on-termination">Preserving Amazon EBS Volumes on Instance Termination</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Encrypted</b>: Allows you to change the encryption
                                       state of a volume created by the template.
                                    </p>
                                    
                                    <p>You apply encryption to EBS volumes by setting the <code class="code">Encrypted</code>
                                       parameter to <code class="code">true</code>. (The <code class="code">Encrypted</code> parameter is optional if <a href="./AWSEC2/latest/UserGuide/EBSEncryption.html#encryption-by-default">encryption by
                                          default</a> is enabled).
                                    </p>
                                    
                                    <p>Optionally, you can use <code class="code">KmsKeyId</code> to specify a custom key to use to
                                       encrypt the volume. (The <code class="code">Encrypted</code> parameter must also be set to
                                       <code class="code">true</code>, even if encryption by default is enabled.) If <code class="code">KmsKeyId</code>
                                       is not specified, the key that is used for encryption depends on the encryption 
                                       state of the source snapshot and its ownership. The following table describes the
                                       encryption 
                                       outcome for each possible combination of settings.
                                    </p>
                                    
                                    
                                    <div class="table">
                                       <p class="title"><b>Encryption Outcomes</b></p>
                                       <div class="table-contents">
                                          <table id="w306aac20c15c31c17c21b5c12b3c15b7">
                                             
                                             <tbody><tr>
                                                
                                                <th>Is <code class="code">Encrypted</code> parameter set?
                                                </th>
                                                
                                                <th>Is encryption by default set?</th>
                                                
                                                <th>Source of volume</th>
                                                
                                                <th>Default (no CMK specified)</th>
                                                
                                                <th>Custom (CMK specified)</th>
                                                
                                             </tr>
                                             
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>No</td>
                                                
                                                <td>New (empty) volume</td>
                                                
                                                <td>Unencrypted</td>
                                                
                                                <td rowspan="5">N/A</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Unencrypted snapshot that you own</td>
                                                
                                                <td>Unencrypted</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Encrypted snapshot that you own</td>
                                                
                                                <td>Encrypted by same key</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Unencrypted snapshot that is shared with you</td>
                                                
                                                <td>Unencrypted</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Encrypted snapshot that is shared with you</td>
                                                
                                                <td>Encrypted by default CMK*</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>No</td>
                                                
                                                <td>New volume</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                                <td rowspan="6">Encrypted by a specified CMK**</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Unencrypted snapshot that you own</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Encrypted snapshot that you own</td>
                                                
                                                <td>Encrypted by same key</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Unencrypted snapshot that is shared with you</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>No</td>
                                                
                                                <td>Encrypted snapshot that is shared with you</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>New (empty) volume</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Unencrypted snapshot that you own</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                                <td rowspan="4">N/A</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Encrypted snapshot that you own</td>
                                                
                                                <td>Encrypted by same key</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Unencrypted snapshot that is shared with you</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>No</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Encrypted snapshot that is shared with you</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>New volume</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                                <td rowspan="5">Encrypted by a specified CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Unencrypted snapshot that you own</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Encrypted snapshot that you own</td>
                                                
                                                <td>Encrypted by same key</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Unencrypted snapshot that is shared with you</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                             <tr>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Yes</td>
                                                
                                                <td>Encrypted snapshot that is shared with you</td>
                                                
                                                <td>Encrypted by default CMK</td>
                                                
                                             </tr>
                                             
                                          </tbody></table>
                                       </div>
                                    </div>
                                    
                                    <p>* This is the default CMK used for EBS encryption for the AWS account and Region.
                                       
                                       By default this is a unique AWS managed CMK for EBS, or you can specify a customer
                                       
                                       managed CMK. For more information, see <a href="EBSEncryption.html#EBSEncryption_key_mgmt">Encryption Key Management</a>.
                                    </p>
                                    
                                    <p>** This is a customer managed CMK specified for the volume at launch time. This 
                                       CMK is used instead of the default CMK for the AWS account and Region.
                                    </p>
                                    
                                    <p>Encrypted volumes may only be attached to <a href="EBSEncryption.html#EBSEncryption_supported_instances">supported instance
                                          types</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Key</b>: The CMK to use for non-default changes to
                                       volume encryption state. Enter any customer master key (CMK) that you
                                       previously created using the AWS Key Management Service. You can paste the full ARN
                                       of
                                       any key to which you have access. For more information, see the
                                       <a href="./kms/latest/developerguide/">AWS Key Management Service Developer Guide</a>.
                                    </p>
                                    
                                    <div class="aws-note">
                                       <p class="aws-note">Note</p>
                                       <p>Providing a CMK without also setting the
                                          <b>Encrypted</b> parameter results in an
                                          error.
                                       </p>
                                    </div>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Tags</b>, specify <a href="Using_Tags.html">tags</a>
                              by providing key and value combinations. You can tag the instance, the volumes,
                              or both.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Advanced Details</b>, expand the section to view the
                              fields and specify any additional parameters for the instance.
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Purchasing option</b>: The purchasing model. Choose
                                       <b>Request Spot instances</b> to request Spot Instances at the
                                       Spot price, capped at the On-Demand price, and choose
                                       <b>Customize Spot parameters</b> to change the default
                                       Spot Instance settings. If you do not request a Spot Instance, EC2 launches an On-Demand
                                       Instance by
                                       default. For more information, see <a href="using-spot-instances.html">Spot Instances</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>IAM instance profile</b>: An AWS Identity and Access Management (IAM)
                                       instance profile to associate with the instance. For more information,
                                       see <a href="iam-roles-for-amazon-ec2.html">IAM Roles for Amazon EC2</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Shutdown behavior</b>: Whether the instance should
                                       stop or terminate when shut down. For more information, see <a href="terminating-instances.html#Using_ChangingInstanceInitiatedShutdownBehavior">Changing the Instance Initiated Shutdown Behavior</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Stop - Hibernate behavior</b>: Whether the instance
                                       is enabled for hibernation. This field is only valid for instances that
                                       meet the hibernation prerequisites. For more information, see <a href="Hibernate.html">Hibernate Your Instance</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Termination protection</b>: Whether to prevent
                                       accidental termination. For more information, see <a href="terminating-instances.html#Using_ChangingDisableAPITermination">Enabling Termination Protection for an
                                          			Instance</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Monitoring</b>: Whether to enable detailed monitoring
                                       of the instance using Amazon CloudWatch. Additional charges apply. For more
                                       information, see <a href="using-cloudwatch.html">Monitoring Your Instances Using CloudWatch</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>T2/T3 Unlimited</b>: Whether to enable applications
                                       to burst beyond the baseline for as long as needed. This field is only
                                       valid for T2 and T3 instances. Additional charges may apply. For more
                                       information, see <a href="burstable-performance-instances.html">Burstable Performance Instances</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Placement group name</b>: Specify a placement group
                                       in which to launch the instance. Not all instance types can be launched
                                       in a placement group. For more information, see <a href="placement-groups.html">Placement Groups</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>EBS-optimized instance</b>: Provides additional,
                                       dedicated capacity for Amazon EBS I/O. Not all instance types support this
                                       feature, and additional charges apply. For more information, see <a href="EBSOptimized.html">Amazon EBS&#x2013;Optimized Instances</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Tenancy</b>: Choose whether to run your instance on
                                       shared hardware (<b>Shared</b>), isolated, dedicated
                                       hardware (<b>Dedicated</b>), or on a Dedicated Host
                                       (<b>Dedicated host</b>). Additional charges may apply.
                                       For more information, see <a href="dedicated-instance.html">Dedicated Instances</a> and <a href="dedicated-hosts-overview.html">Dedicated Hosts</a>. If you specify a Dedicated Host,
                                       you can choose a specific host and the affinity for the instance.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>RAM disk ID</b>: A RAM disk for the instance. If you
                                       have specified a kernel, you may need to specify a specific RAM disk
                                       with the drivers to support it. Only valid for paravirtual (PV)
                                       AMIs.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Kernel ID</b>: A kernel for the instance. Only valid
                                       for paravirtual (PV) AMIs.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>User data</b>: You can specify user data to configure
                                       an instance during launch, or to run a configuration script. For more
                                       information, see <a href="user-data.html">Running Commands on Your Linux Instance at Launch</a>.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create launch template</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p class="title"><b>To create a launch template from an existing launch template (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Launch Templates</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create launch template</b>. Provide a name and
                              description for the launch template.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Source template</b>, choose a launch template on which to
                              base the new launch template.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Source template version</b>, choose the launch template
                              version on which to base the new launch template.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Adjust any launch parameters as required, and choose <b>Create launch
                                 template</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <p class="title"><b>To create a launch template from an instance (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Instances</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the instance, and choose <b>Actions</b>, <b>Create
                                 Template From Instance</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Provide a name and description, and adjust the launch parameters as
                              required.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>When you create a launch template from an instance, the instance&apos;s network
                                 interface IDs and IP addresses are not included in the template.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create Template From Instance</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p class="title"><b>To create a launch template (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/create-launch-template.html">create-launch-template</a> (AWS CLI) command. The following example
                              creates a launch template that specifies the following:
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>The instance type (<code class="code">r4.4xlarge</code>) and AMI
                                       (<code class="code">ami-8c1be5f6</code>) to launch
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>The number of cores (<code class="code">4</code>) and threads per core
                                       (<code class="code">2</code>) for a total of 8 vCPUs (4 cores x 2 threads)
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>The subnet in which to launch the instance
                                       (<code class="code">subnet-7b16de0c</code>)
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                           <p>The template assigns a public IP address and an IPv6 address to the instance
                              and creates a tag for the instance
                              (<code class="code">Name</code>=<code class="code">webserver</code>).
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 create-launch-template --launch-template-name <em class="replaceable"><code>TemplateForWebServer</code></em> --version-description <em class="replaceable"><code>WebVersion1</code></em> --launch-template-data file://template-data.json</code></strong></code></pre>
                           <p>The following is an example <code>template-data.json</code>
                              file:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    &quot;NetworkInterfaces&quot;: [{
        &quot;AssociatePublicIpAddress&quot;: true,
        &quot;DeviceIndex&quot;: 0,
        &quot;Ipv6AddressCount&quot;: <em class="replaceable"><code>1</code></em>,
        &quot;SubnetId&quot;: &quot;<em class="replaceable"><code>subnet-7b16de0c</code></em>&quot;
    }],
    &quot;ImageId&quot;: &quot;<em class="replaceable"><code>ami-8c1be5f6</code></em>&quot;,
    &quot;InstanceType&quot;: &quot;<em class="replaceable"><code>r4.4xlarge</code></em>&quot;,
    &quot;TagSpecifications&quot;: [{
        &quot;ResourceType&quot;: &quot;instance&quot;,
        &quot;Tags&quot;: [{
            &quot;Key&quot;:&quot;<em class="replaceable"><code>Name</code></em>&quot;,
            &quot;Value&quot;:&quot;<em class="replaceable"><code>webserver</code></em>&quot;
        }]
    }],
    &quot;CpuOptions&quot;: {
        &quot;CoreCount&quot;:<em class="replaceable"><code>4</code></em>,
        &quot;ThreadsPerCore&quot;:<em class="replaceable"><code>2</code></em>
    }
}</code></pre>
                           <p>The following is example output.</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    &quot;LaunchTemplate&quot;: {
        &quot;LatestVersionNumber&quot;: 1, 
        &quot;LaunchTemplateId&quot;: &quot;lt-01238c059e3466abc&quot;, 
        &quot;LaunchTemplateName&quot;: &quot;TemplateForWebServer&quot;, 
        &quot;DefaultVersionNumber&quot;: 1, 
        &quot;CreatedBy&quot;: &quot;arn:aws:iam::123456789012:root&quot;, 
        &quot;CreateTime&quot;: &quot;2017-11-27T09:13:24.000Z&quot;
    }
}</code></pre>
                           </li>
                     </ul>
                     
                     
                     <p class="title"><b>To get instance data for a launch template (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/get-launch-template-data.html">get-launch-template-data</a> (AWS CLI) command and specify the instance
                              ID. You can use the output as a base to create a new launch template or launch
                              template version. By default, the output includes a top-level
                              <code class="code">LaunchTemplateData</code> object, which cannot be specified in your
                              launch template data. Use the <code class="code">--query</code> option to exclude this
                              object.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 get-launch-template-data --instance-id <em class="replaceable"><code>i-0123d646e8048babc</code></em> --query &quot;LaunchTemplateData&quot;</code></strong></code></pre>
                           <p>The following is example output.</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">    {
        &quot;Monitoring&quot;: {}, 
        &quot;ImageId&quot;: &quot;ami-8c1be5f6&quot;, 
        &quot;BlockDeviceMappings&quot;: [
            {
                &quot;DeviceName&quot;: &quot;/dev/xvda&quot;, 
                &quot;Ebs&quot;: {
                    &quot;DeleteOnTermination&quot;: true
                }
            }
        ], 
        &quot;EbsOptimized&quot;: false, 
        &quot;Placement&quot;: {
            &quot;Tenancy&quot;: &quot;default&quot;, 
            &quot;GroupName&quot;: &quot;&quot;, 
            &quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;
        }, 
        &quot;InstanceType&quot;: &quot;t2.micro&quot;, 
        &quot;NetworkInterfaces&quot;: [
            {
                &quot;Description&quot;: &quot;&quot;, 
                &quot;NetworkInterfaceId&quot;: &quot;eni-35306abc&quot;, 
                &quot;PrivateIpAddresses&quot;: [
                    {
                        &quot;Primary&quot;: true, 
                        &quot;PrivateIpAddress&quot;: &quot;10.0.0.72&quot;
                    }
                ], 
                &quot;SubnetId&quot;: &quot;subnet-7b16de0c&quot;, 
                &quot;Groups&quot;: [
                    &quot;sg-7c227019&quot;
                ], 
                &quot;Ipv6Addresses&quot;: [
                    {
                        &quot;Ipv6Address&quot;: &quot;2001:db8:1234:1a00::123&quot;
                    }
                ], 
                &quot;PrivateIpAddress&quot;: &quot;10.0.0.72&quot;
            }
        ]
    }</code></pre>
                           <p>You can write the output directly to a file, for example:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 get-launch-template-data --instance-id <em class="replaceable"><code>i-0123d646e8048babc</code></em> --query &quot;LaunchTemplateData&quot; &gt;&gt; <em class="replaceable"><code>instance-data.json</code></em></code></strong></code></pre>
                           </li>
                     </ul>
                     
                     
                     <h2 id="manage-launch-template-versions">Managing Launch Template
                        Versions
                     </h2>
                     
                     <p>You can create launch template versions for a specific launch template, set the
                        default version, and delete versions that you no longer require.
                     </p>
                     
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Tasks</strong></p>
                        <ul>
                           <li><a href="#create-launch-template-version">Creating a Launch Template
                                 Version</a></li>
                           <li><a href="#set-default-launch-template-version">Setting the Default Launch
                                 Template Version</a></li>
                           <li><a href="#delete-launch-template-version">Deleting a Launch Template
                                 Version</a></li>
                        </ul>
                     </div>
                     
                     
                     
                     <h3 id="create-launch-template-version">Creating a Launch Template
                        Version
                     </h3>
                     
                     <p>When you create a launch template version, you can specify new launch parameters
                        or use an existing version as the base for the new version. For more information
                        about the launch parameters, see <a href="ec2-launch-templates.html#create-launch-template">Creating a Launch Template</a>.
                     </p>
                     
                     <p class="title"><b>To create a launch template version (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Launch
                                 Templates</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create launch template</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>What would you like to do</b>, choose
                              <b>Create a new template version</b></p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Launch template name</b>, select the name of the
                              existing launch template from the list.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Template version description</b>, type a description
                              for the launch template version.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>(Optional) Select a version of the launch template, or a version of a
                              different launch template, to use as a base for the new launch template
                              version. The new launch template version inherits the launch parameters from
                              this launch template version.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Modify the launch parameters as required, and choose <b>Create
                                 launch template</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <p class="title"><b>To create a launch template version (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/create-launch-template-version.html">create-launch-template-version</a> (AWS CLI) command. You can specify
                              a source version on which to base the new version. The new version inherits
                              the launch parameters from this version, and you can override parameters
                              using <code class="code">--launch-template-data</code>. The following example creates a
                              new version based on version 1 of the launch template and specifies a
                              different AMI ID.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 create-launch-template-version --launch-template-id <em class="replaceable"><code>lt-0abcd290751193123</code></em> --version-description <em class="replaceable"><code>WebVersion2</code></em> --source-version <em class="replaceable"><code>1</code></em> --launch-template-data &quot;ImageId=<em class="replaceable"><code>ami-c998b6b2</code></em>&quot;</code></strong></code></pre>
                           </li>
                     </ul>
                     
                     
                     
                     <h3 id="set-default-launch-template-version">Setting the Default Launch
                        Template Version
                     </h3>
                     
                     <p>You can set the default version for the launch template. When you launch an
                        instance from a launch template and do not specify a version, the instance is
                        launched using the parameters of the default version.
                     </p>
                     
                     <p class="title"><b>To set the default launch template version (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Launch
                                 Templates</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the launch template and choose <b>Actions</b>,
                              <b>Set default version</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Default version</b>, select the version number and
                              choose <b>Set as default version</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p class="title"><b>To set the default launch template version (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/modify-launch-template.html">modify-launch-template</a> (AWS CLI) command and specify the version
                              that you want to set as the default.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 modify-launch-template --launch-template-id <em class="replaceable"><code>lt-0abcd290751193123</code></em> --default-version <em class="replaceable"><code>2</code></em></code></strong></code></pre>
                           </li>
                     </ul>
                     
                     
                     
                     <h3 id="delete-launch-template-version">Deleting a Launch Template
                        Version
                     </h3>
                     
                     <p>If you no longer require a launch template version, you can delete it. You cannot
                        replace the version number after you delete it. You cannot delete the default
                        version of the launch template; you must first assign a different version as the
                        default.
                     </p>
                     
                     <p class="title"><b>To delete a launch template version (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Launch
                                 Templates</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the launch template and choose <b>Actions</b>,
                              <b>Delete template version</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the version to delete and choose <b>Delete launch template
                                 version</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p class="title"><b>To delete a launch template version (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/delete-launch-template-versions.html">delete-launch-template-versions</a> (AWS CLI) command and specify the
                              version numbers to delete.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 delete-launch-template-versions --launch-template-id <em class="replaceable"><code>lt-0abcd290751193123</code></em> --versions <em class="replaceable"><code>1</code></em></code></strong></code></pre>
                           </li>
                     </ul>
                     
                     
                     
                     <h2 id="launch-instance-from-launch-template">Launching an Instance from a
                        Launch Template
                     </h2>
                     
                     <p>You can use the parameters contained in a launch template to launch an instance. You
                        have the option to override or add launch parameters before you launch the
                        instance.
                     </p>
                     
                     <p>Instances that are launched using a launch template are automatically assigned two
                        tags with the keys <code class="code">aws:ec2launchtemplate:id</code> and
                        <code class="code">aws:ec2launchtemplate:version</code>. You cannot remove or edit these
                        tags.
                     </p>
                     
                     <p class="title"><b>To launch an instance from a launch template (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Launch Templates</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the launch template and choose <b>Actions</b>,
                              <b>Launch instance from template</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the launch template version to use.</p>
                           
                        </li>
                        <li>
                           
                           <p>(Optional) You can override or add launch template parameters by changing and
                              adding parameters in the <b>Instance details</b> section.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Launch instance from template</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To launch an instance from a launch template (AWS CLI)</b></p>
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Use the <a href="./cli/latest/reference/ec2/run-instances.html">run-instances</a>
                                 AWS CLI command and specify the <code class="code">--launch-template</code> parameter.
                                 Optionally specify the launch template version to use. If you don&apos;t specify the
                                 version, the default version is used.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 run-instances --launch-template LaunchTemplateId=<em class="replaceable"><code>lt-0abcd290751193123</code></em>,Version=<em class="replaceable"><code>1</code></em></code></strong></code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p>To override a launch template parameter, specify the parameter in the <a href="./cli/latest/reference/ec2/run-instances.html">run-instances</a> command. The
                                 following example overrides the instance type that&apos;s specified in the launch
                                 template (if any).
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 run-instances --launch-template LaunchTemplateId=<em class="replaceable"><code>lt-0abcd290751193123</code></em> --instance-type <em class="replaceable"><code>t2.small</code></em></code></strong></code></pre>
                              </li>
                           <li class="listitem">
                              
                              <p>If you specify a nested parameter that&apos;s part of a complex structure, the
                                 instance is launched using the complex structure as specified in the launch
                                 template plus any additional nested parameters that you specify.
                              </p>
                              
                              <p>In the following example, the instance is launched with the tag
                                 <code class="code">Owner=TeamA</code> as well as any other tags that are specified in the
                                 launch template. If the launch template has an existing tag with a key of
                                 <code class="code">Owner</code>, the value is replaced with <code class="code">TeamA</code>.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 run-instances --launch-template LaunchTemplateId=<em class="replaceable"><code>lt-0abcd290751193123</code></em> --tag-specifications &quot;ResourceType=instance,Tags=[{Key=<em class="replaceable"><code>Owner</code></em>,Value=<em class="replaceable"><code>TeamA</code></em>}]&quot;</code></strong></code></pre>
                              <p>In the following example, the instance is launched with a volume with the
                                 device name <code class="code">/dev/xvdb</code> as well as any other block device mappings
                                 that are specified in the launch template. If the launch template has an
                                 existing volume defined for <code class="code">/dev/xvdb</code>, its values are replaced with
                                 specified values.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 run-instances --launch-template LaunchTemplateId=<em class="replaceable"><code>lt-0abcd290751193123</code></em> --block-device-mappings &quot;DeviceName=<em class="replaceable"><code>/dev/xvdb</code></em>,Ebs={VolumeSize=<em class="replaceable"><code>20</code></em>,VolumeType=<em class="replaceable"><code>gp2</code></em>}&quot;</code></strong></code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     
                     <p>If the instance fails to launch or the state immediately goes to
                        <code class="code">terminated</code> instead of <code class="code">running</code>, see <a href="troubleshooting-launch.html">Troubleshooting Instance Launch Issues</a>.
                     </p>
                     
                     
                     
                     <h2 id="launch-templates-as">Using Launch Templates with Amazon EC2 Auto Scaling</h2>
                     
                     <p>You can create an Auto Scaling group and specify a launch template to use for the
                        group. When
                        Amazon EC2 Auto Scaling launches instances in the Auto Scaling group, it uses the
                        launch parameters defined in
                        the associated launch template.
                     </p>
                     
                     <p>For more information, see <a href="./autoscaling/ec2/userguide/create-asg-launch-template.html">Creating an Auto Scaling Group Using a Launch Template</a> in the
                        <em>Amazon EC2 Auto Scaling User Guide</em>.
                     </p>
                     
                     <p class="title"><b>To create or update an Amazon EC2 Auto Scaling group with a launch template (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/autoscaling/create-auto-scaling-group.html">create-auto-scaling-group</a> or the <a href="./cli/latest/reference/autoscaling/update-auto-scaling-group.html">update-auto-scaling-group</a> AWS CLI command and specify the
                              <code class="code">--launch-template</code> parameter.
                           </p>
                           
                        </li>
                     </ul>
                     
                     
                     <h2 id="launch-templates-ec2-fleet">Using Launch Templates with EC2 Fleet</h2>
                     
                     <p>You can create an EC2 Fleet request and specify a launch template in the instance
                        configuration. When Amazon EC2 fulfills the EC2 Fleet request, it uses the launch
                        parameters
                        defined in the associated launch template. You can override some of the parameters
                        that
                        are specified in the launch template.
                     </p>
                     
                     <p>For more information, see <a href="manage-ec2-fleet.html#create-ec2-fleet">Creating an EC2 Fleet</a>.
                     </p>
                     
                     <p class="title"><b>To create an EC2 Fleet with a launch template (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/create-fleet.html">create-fleet</a>
                              AWS CLI command. Use the <code class="code">--launch-template-configs</code> parameter to
                              specify the launch template and any overrides for the launch template.
                           </p>
                           
                        </li>
                     </ul>
                     
                     
                     <h2 id="launch-templates-spot-fleet">Using Launch Templates with Spot Fleet</h2>
                     
                     <p>You can create a Spot Fleet request and specify a launch template in the instance
                        configuration. When Amazon EC2 fulfills the Spot Fleet request, it uses the launch
                        parameters
                        defined in the associated launch template. You can override some of the parameters
                        that
                        are specified in the launch template.
                     </p>
                     
                     <p>For more information, see <a href="spot-fleet-requests.html">Spot Fleet Requests</a>.
                     </p>
                     
                     <p class="title"><b>To create a Spot Fleet request with a launch template (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/request-spot-fleet.html">request-spot-fleet</a> AWS CLI command. Use the
                              <code class="code">LaunchTemplateConfigs</code> parameter to specify the launch template
                              and any overrides for the launch template.
                           </p>
                           
                        </li>
                     </ul>
                     
                     
                     <h2 id="delete-launch-template">Deleting a Launch Template</h2>
                     
                     <p>If you no longer require a launch template, you can delete it. Deleting a launch
                        template deletes all of its versions.
                     </p>
                     
                     <p class="title"><b>To delete a launch template (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Launch Templates</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the launch template and choose <b>Actions</b>,
                              <b>Delete template</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Delete launch template</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p class="title"><b>To delete a launch template (AWS CLI)</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <a href="./cli/latest/reference/ec2/delete-launch-template.html">delete-launch-template</a> (AWS CLI) command and specify the launch
                              template.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 delete-launch-template --launch-template-id <em class="replaceable"><code>lt-01238c059e3466abc</code></em></code></strong></code></pre>
                           </li>
                     </ul>
                     
                     <div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                       browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be
                                    enabled. Please refer to your browser's Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="launching-instance.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="launch-more-like-this.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2019, Amazon Web Services, Inc. or its affiliates. All rights
                        reserved.
                     </div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Launch Template Restrictions"><a class="pagetoc" href="#launch-template-restrictions">Launch Template Restrictions</a></li>
                        <li class="pagetoc" name="Using Launch Templates to Control
                Launch Parameters"><a class="pagetoc" href="#launch-templates-authorization">Using Launch Templates to Control
                              Launch Parameters</a></li>
                        <li class="pagetoc" name="Controlling the Use of Launch
                Templates"><a class="pagetoc" href="#launch-template-permissions">Controlling the Use of Launch
                              Templates</a></li>
                        <li class="pagetoc" name="Creating a Launch Template"><a class="pagetoc" href="#create-launch-template">Creating a Launch Template</a></li>
                        <li class="pagetoc" name="Managing Launch Template
                Versions"><a class="pagetoc" href="#manage-launch-template-versions">Managing Launch Template
                              Versions</a></li>
                        <li class="pagetoc" name="Launching an Instance from a
                Launch Template"><a class="pagetoc" href="#launch-instance-from-launch-template">Launching an Instance from a
                              Launch Template</a></li>
                        <li class="pagetoc" name="Using Launch Templates with Amazon EC2 Auto Scaling"><a class="pagetoc" href="#launch-templates-as">Using Launch Templates with Amazon EC2 Auto Scaling</a></li>
                        <li class="pagetoc" name="Using Launch Templates with EC2 Fleet"><a class="pagetoc" href="#launch-templates-ec2-fleet">Using Launch Templates with EC2 Fleet</a></li>
                        <li class="pagetoc" name="Using Launch Templates with Spot Fleet"><a class="pagetoc" href="#launch-templates-spot-fleet">Using Launch Templates with Spot Fleet</a></li>
                        <li class="pagetoc" name="Deleting a Launch Template"><a class="pagetoc" href="#delete-launch-template">Deleting a Launch Template</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using
            our site, you consent to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>